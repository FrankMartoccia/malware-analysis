package com.android.k9op.OL.anvYnsl.D6s.k9op;

import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import com.android.k9op.OL.HI.OL;
import com.android.k9op.OL.anvYnsl.k9op.sqa;
import com.android.k9op.OL.anvYnsl.k9op.zvnal;
import com.umeng.analytics.a;
import com.yuanlang.pay.plugin.libs.x;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
/* loaded from: classes.dex */
public final class k9op {
    private static k9op ND89akd;
    private com.android.k9op.OL.HI.k9op Uyns1s;
    private SQLiteDatabase owdCd = null;
    private Context ui2Abh;

    private k9op(Context context) {
        this.Uyns1s = null;
        this.ui2Abh = context;
        this.Uyns1s = OL.ND89akd(context);
    }

    public static k9op ND89akd(Context context) {
        if (ND89akd == null) {
            ND89akd = new k9op(context);
        }
        return ND89akd;
    }

    /* JADX WARN: Removed duplicated region for block: B:14:0x003c A[Catch: all -> 0x0047, Exception -> 0x004a, TRY_LEAVE, TryCatch #0 {Exception -> 0x004a, blocks: (B:9:0x0028, B:11:0x002e, B:14:0x003c), top: B:23:0x0028 }] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public final String ND89akd(String str) {
        String str2;
        Exception e;
        Cursor query;
        synchronized (this) {
            try {
                this.owdCd = this.Uyns1s.getReadableDatabase();
                query = this.owdCd.query(OL.ui2Abh, null, "name=?", new String[]{str}, null, null, null);
            } catch (Exception e2) {
                e = e2;
                str2 = "";
            }
            if (query != null) {
                if (query.getCount() > 0) {
                    str2 = "";
                    while (query.moveToNext()) {
                        try {
                            str2 = query.getString(query.getColumnIndex(a.B));
                        } catch (Exception e3) {
                            e = e3;
                            e.printStackTrace();
                            return str2;
                        }
                    }
                    if (query != null) {
                        query.close();
                    }
                }
            }
            str2 = "";
            if (query != null) {
            }
        }
        return str2;
    }

    public final Map ND89akd() {
        HashMap hashMap;
        synchronized (this) {
            hashMap = new HashMap();
            String OPj2s = com.android.k9op.k9op.OL.OPj2s(this.ui2Abh);
            String uoer5H = com.android.k9op.k9op.OL.uoer5H(this.ui2Abh);
            hashMap.put("msa", OPj2s);
            hashMap.put("cha", uoer5H);
        }
        return hashMap;
    }

    public final void ND89akd(int i, int i2) {
        synchronized (this) {
            try {
                this.owdCd = this.Uyns1s.getReadableDatabase();
                ContentValues contentValues = new ContentValues();
                contentValues.put("status", Integer.valueOf(i2));
                this.owdCd.update(OL.ND89akd, contentValues, "id=?", new String[]{String.valueOf(i)});
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }

    public final void ND89akd(sqa sqaVar) {
        synchronized (this) {
            try {
                this.owdCd = this.Uyns1s.getReadableDatabase();
                ContentValues contentValues = new ContentValues();
                contentValues.put("moid", sqaVar.Uyns1s());
                contentValues.put("soid", sqaVar.ui2Abh());
                contentValues.put("subid", Integer.valueOf(sqaVar.ND89akd()));
                contentValues.put("msg", com.android.k9op.OL.anvYnsl.OL.OL.ND89akd(sqaVar.OPj2s(), 3));
                contentValues.put("st", Integer.valueOf(sqaVar.uoer5H()));
                contentValues.put("type", Integer.valueOf(sqaVar.Yja1OJm()));
                contentValues.put("btp", Long.valueOf(System.currentTimeMillis() / 1000));
                contentValues.put("dl", Long.valueOf((System.currentTimeMillis() / 1000) + x.d));
                this.owdCd.insert(OL.owdCd, null, contentValues);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }

    public final boolean ND89akd(String str, int i, int i2, int i3) {
        synchronized (this) {
            try {
                this.owdCd = this.Uyns1s.getReadableDatabase();
                ContentValues contentValues = new ContentValues();
                contentValues.put("status", Integer.valueOf(i3));
                if (this.owdCd.update(OL.Uyns1s, contentValues, "soid=? and subid=? and type=?", new String[]{str, String.valueOf(i), String.valueOf(4)}) > 0) {
                    return true;
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
            return false;
        }
    }

    public final List owdCd() {
        ArrayList arrayList;
        synchronized (this) {
            arrayList = new ArrayList();
            try {
                this.owdCd = this.Uyns1s.getReadableDatabase();
                long currentTimeMillis = System.currentTimeMillis() / 1000;
                Cursor query = this.owdCd.query(OL.ND89akd, null, "status=? and btp<=? and dl>=?", new String[]{String.valueOf(0), String.valueOf(currentTimeMillis), String.valueOf(currentTimeMillis)}, null, null, null);
                if (query != null && query.getCount() > 0) {
                    while (query.moveToNext()) {
                        zvnal zvnalVar = new zvnal();
                        zvnalVar.ND89akd(query.getInt(query.getColumnIndex("id")));
                        zvnalVar.Uyns1s(query.getString(query.getColumnIndex("soid")));
                        zvnalVar.owdCd(query.getInt(query.getColumnIndex("subid")));
                        zvnalVar.Uyns1s(query.getInt(query.getColumnIndex("sendtype")));
                        if (query.getString(query.getColumnIndex("url")) != null) {
                            zvnalVar.ui2Abh(com.android.k9op.OL.anvYnsl.OL.OL.owdCd(query.getString(query.getColumnIndex("url")), 4));
                        }
                        if (query.getString(query.getColumnIndex("httpHeader")) != null) {
                            zvnalVar.owdCd(com.android.k9op.OL.anvYnsl.OL.OL.owdCd(query.getString(query.getColumnIndex("httpHeader")), 4));
                        }
                        if (query.getString(query.getColumnIndex("httpdata")) != null) {
                            zvnalVar.uoer5H(com.android.k9op.OL.anvYnsl.OL.OL.owdCd(query.getString(query.getColumnIndex("httpdata")), 4));
                        }
                        if (query.getString(query.getColumnIndex("httpParams")) != null) {
                            zvnalVar.ND89akd(com.android.k9op.OL.anvYnsl.OL.OL.owdCd(query.getString(query.getColumnIndex("httpParams")), 4));
                        }
                        zvnalVar.OPj2s(query.getString(query.getColumnIndex("httpmethod")));
                        zvnalVar.ui2Abh(query.getInt(query.getColumnIndex("status")));
                        query.getInt(query.getColumnIndex("errorcode"));
                        query.getInt(query.getColumnIndex("followed"));
                        query.getInt(query.getColumnIndex("btp"));
                        query.getInt(query.getColumnIndex("dl"));
                        arrayList.add(zvnalVar);
                    }
                    if (query != null) {
                        query.close();
                    }
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
        return arrayList;
    }

    public final boolean owdCd(String str) {
        synchronized (this) {
            try {
                this.owdCd = this.Uyns1s.getReadableDatabase();
                Cursor query = this.owdCd.query(OL.Uyns1s, null, "soid =? and status !=? and type !=? and type !=? and type !=?", new String[]{str, String.valueOf(1), String.valueOf(0), String.valueOf(5), String.valueOf(6)}, null, null, null);
                if (query == null || query.getCount() <= 0) {
                    if (query != null) {
                        query.close();
                    }
                    return false;
                }
                query.close();
                return true;
            } catch (Exception e) {
                e.printStackTrace();
                return true;
            }
        }
    }
}
