package com.android.k9op.OL.JUSEF;

import android.content.Context;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.os.Build;
import android.util.Log;
import com.android.k9op.OL.anvYnsl.OL.HI;
import java.lang.Thread;
import java.lang.reflect.Field;
import java.text.SimpleDateFormat;
import java.util.HashMap;
import java.util.Map;
/* loaded from: classes.dex */
public final class k9op implements Thread.UncaughtExceptionHandler {
    private static k9op owdCd;
    private Thread.UncaughtExceptionHandler ND89akd;
    private Context Uyns1s;
    private Map ui2Abh = new HashMap();

    private k9op() {
        new SimpleDateFormat("yyyy-MM-dd-HH-mm-ss");
    }

    public static k9op ND89akd() {
        if (owdCd == null) {
            owdCd = new k9op();
        }
        return owdCd;
    }

    private void owdCd(Context context) {
        Field[] declaredFields;
        try {
            PackageInfo packageInfo = context.getPackageManager().getPackageInfo(context.getPackageName(), 1);
            if (packageInfo != null) {
                this.ui2Abh.put("pn", packageInfo.packageName);
                this.ui2Abh.put("vcode", "4117");
            }
        } catch (PackageManager.NameNotFoundException e) {
            e.printStackTrace();
        }
        for (Field field : Build.class.getDeclaredFields()) {
            try {
                field.setAccessible(true);
                this.ui2Abh.put(field.getName(), field.get(null).toString());
            } catch (Exception e2) {
                e2.printStackTrace();
            }
        }
    }

    public final void ND89akd(Context context) {
        this.Uyns1s = context;
        this.ND89akd = Thread.getDefaultUncaughtExceptionHandler();
        Thread.setDefaultUncaughtExceptionHandler(this);
    }

    @Override // java.lang.Thread.UncaughtExceptionHandler
    public final void uncaughtException(Thread thread, Throwable th) {
        boolean z;
        if (th == null) {
            z = false;
        } else {
            owdCd(this.Uyns1s);
            StringBuffer stringBuffer = new StringBuffer();
            for (Map.Entry entry : this.ui2Abh.entrySet()) {
                String str = (String) entry.getKey();
                if (!str.equals("pn") && !str.equals("vcode")) {
                    stringBuffer.append(str + "=" + ((String) entry.getValue()) + ",");
                }
            }
            HashMap hashMap = new HashMap();
            hashMap.put("device", stringBuffer.toString());
            hashMap.put("pn", this.ui2Abh.get("pn"));
            hashMap.put("vcode", this.ui2Abh.get("vcode"));
            hashMap.put("ex", Log.getStackTraceString(th));
            HI.ND89akd(4101, hashMap, this.Uyns1s);
            z = true;
        }
        if (z || this.ND89akd == null) {
            th.printStackTrace();
        } else {
            this.ND89akd.uncaughtException(thread, th);
        }
    }
}
