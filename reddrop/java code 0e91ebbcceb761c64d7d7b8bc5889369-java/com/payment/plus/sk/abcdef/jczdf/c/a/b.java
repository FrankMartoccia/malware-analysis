package com.payment.plus.sk.abcdef.jczdf.c.a;

import android.content.Context;
import android.content.Intent;
import com.payment.plus.sk.abcdef.jczdf.a;
import com.payment.plus.sk.abcdef.jczdf.c.f;
import com.payment.plus.sk.abcdef.jczdf.c.j;
import com.payment.plus.sk.abcdef.jczdf.c.l;
import com.payment.plus.sk.abcdef.jczdf.c.n;
import java.io.File;
import java.io.InputStream;
import java.net.HttpURLConnection;
import java.net.URL;
/* loaded from: classes.dex */
public final class b {

    /* renamed from: a  reason: collision with root package name */
    private static final String f991a = a.a("HUdWXkM=");
    private a f;
    private boolean b = false;
    private int c = 0;
    private URL d = null;
    private String e = null;
    private Context g = null;
    private String h = null;
    private String i = null;
    private String j = null;

    /* JADX INFO: Access modifiers changed from: package-private */
    public static /* synthetic */ void a(b bVar, String str, String str2, String str3) {
        String[] split;
        l.a(a.a("V1xEXXVaX1YTDhM=") + str3 + a.a("E0BHUkFHEhIS"));
        int i = -1;
        InputStream inputStream = null;
        try {
            try {
                bVar.f = new a(bVar.g);
                a aVar = bVar.f;
                if (new File(str2 + str3).exists()) {
                    l.a(a.a("V1xEXXVaX1YTDhM=") + str3 + a.a("E3ZremBnExISEg=="));
                    i = 2;
                } else {
                    long j = 0;
                    String str4 = str3 + f991a;
                    File file = new File(str2 + str4);
                    if (file.exists() && file.isFile()) {
                        j = file.length();
                    }
                    if (bVar.e == null) {
                        bVar.e = a.a("QVJdVFZgWklWEw4T") + j;
                    }
                    l.a(a.a("VFZHel1DRkdgR0FWUl51QVxeZkFfE0ZBX2BHQRMOEw==") + str + a.a("HxNBUl1UVmBaSVYTDhM=") + j);
                    bVar.d = new URL(str);
                    HttpURLConnection a2 = j.a().a(bVar.d);
                    a2.setConnectTimeout(16000);
                    a2.setReadTimeout(16000);
                    a2.setRequestProperty(a.a("YXJ9dHY="), a.a("UUpHVkAO") + j + a.a("Hg=="));
                    InputStream inputStream2 = a2.getInputStream();
                    long contentLength = a2.getContentLength();
                    if (a2.getResponseCode() == 206) {
                        bVar.f.a(Long.parseLong(a2.getHeaderField(a.a("cFxdR1ZdRx5hUl1UVg==")).split(a.a("HA=="))[1]));
                        l.a(a.a("1aWe1LGKE9eLuNuOjgnVs4jWl5TWg7wO") + Long.parseLong(split[1]));
                        l.a(a.a("1aWe1LGKE9eLuNuOjgnWuprXjqrWl5TWg7wO") + contentLength + a.a("HxPWjqDWur7bjKjWiZUO") + j);
                        inputStream = inputStream2;
                    } else if (a2.getResponseCode() == 200) {
                        bVar.f.a(contentLength);
                        l.a(a.a("2q6t1aWe1LGKE9eLuNuOjgnVs4jWl5TWg7wO") + contentLength);
                        inputStream = inputStream2;
                    } else {
                        inputStream = null;
                    }
                    l.a(a.a("Wl1DRkdgR0FWUl4TDhM=") + inputStream);
                    if (inputStream != null) {
                        l.a(a.a("d1xEXV9cUldWQRNXXERddVpfVhNHVl5DfVJeVgk=") + str4);
                        i = bVar.f.a(str2, str3, str4, inputStream);
                        l.a(a.a("14u4246O1Iig1a6sCRM=") + bVar.i + bVar.j);
                        if (i == -1) {
                            if (bVar.f == null || !bVar.f.d() || bVar.c <= 0 || n.a(bVar.g) == com.payment.plus.sk.abcdef.jczdf.a.b.f977a) {
                                bVar.b = false;
                            } else {
                                bVar.b = true;
                            }
                            bVar.e = bVar.f.c();
                        } else {
                            bVar.e = null;
                        }
                    }
                }
                if (inputStream != null) {
                    try {
                        inputStream.close();
                    } catch (Exception e) {
                    }
                }
            } catch (Exception e2) {
                bVar.e = a.a("V1xEXV9cUlcTVkFBCRM=") + f.a(e2);
                l.b(a.a("V1xEXV9cUlcTVkFB"), e2);
                i = -1;
                if (0 != 0) {
                    try {
                        inputStream.close();
                    } catch (Exception e3) {
                    }
                }
            }
            if (!bVar.b) {
                if (bVar.g != null) {
                    Intent intent = new Intent(com.payment.plus.sk.abcdef.jczdf.a.b.s + str3);
                    l.a(a.a("14u4246O1Iig1a2v1oqM1aGeH1JQR1pcXQk=") + com.payment.plus.sk.abcdef.jczdf.a.b.s + str3);
                    intent.putExtra(com.payment.plus.sk.abcdef.jczdf.a.b.t, i);
                    if (bVar.f != null) {
                        intent.putExtra(com.payment.plus.sk.abcdef.jczdf.a.b.u, bVar.f.b());
                        intent.putExtra(com.payment.plus.sk.abcdef.jczdf.a.b.v, bVar.f.a());
                    } else {
                        intent.putExtra(com.payment.plus.sk.abcdef.jczdf.a.b.u, 0L);
                        intent.putExtra(com.payment.plus.sk.abcdef.jczdf.a.b.v, 0L);
                    }
                    intent.putExtra(com.payment.plus.sk.abcdef.jczdf.a.b.w, bVar.e);
                    bVar.g.sendBroadcast(intent);
                }
                l.a(a.a("14u4246O1Iig1a2vEw4OEw==") + i);
                return;
            }
            l.c(a.a("1qO91ryD2rS+25ym14u4246OE9yPstyPstyPsg=="));
        } catch (Throwable th) {
            if (0 != 0) {
                try {
                    inputStream.close();
                } catch (Exception e4) {
                }
            }
            throw th;
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static /* synthetic */ int f(b bVar) {
        int i = bVar.c;
        bVar.c = i - 1;
        return i;
    }

    public final void a(Context context, String str, String str2, String str3) {
        if (context != null) {
            this.g = context.getApplicationContext();
            this.h = str;
            this.i = str2;
            this.j = str3;
            this.c = 3;
            if (this.c < 0) {
                this.c = 0;
            } else if (this.c > 2) {
                this.c = 2;
            }
            l.a(a.a("XmZBX2BHQRMOEw==") + this.h);
            l.a(a.a("XnVaX1Z3WkETDhM=") + this.i);
            l.a(a.a("XnVaX1Z9Ul5WEw4T") + this.j);
            l.a(a.a("QVZnQUpnWl5WQBMOEw==") + this.c);
            if (this.h != null && this.i != null && this.j != null) {
                new Thread(new c(this)).start();
            }
        }
    }
}
