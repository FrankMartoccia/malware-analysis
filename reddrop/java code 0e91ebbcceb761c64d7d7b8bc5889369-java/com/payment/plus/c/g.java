package com.payment.plus.c;

import android.os.Bundle;
import android.os.Handler;
import android.text.TextUtils;
import android.util.Log;
import com.payment.plus.c.b.b;
import com.payment.plus.c.b.c;
import com.payment.plus.c.b.d;
import com.payment.plus.main.MaySDK;
import com.umeng.analytics.pro.x;
import org.json.JSONArray;
import org.json.JSONObject;
import org.json.JSONTokener;
/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: classes.dex */
public final class g implements Runnable {

    /* renamed from: a  reason: collision with root package name */
    final /* synthetic */ b f961a;
    private final /* synthetic */ Handler b;
    private final /* synthetic */ String c;
    private final /* synthetic */ String d;
    private final /* synthetic */ String e;
    private final /* synthetic */ String f;
    private final /* synthetic */ String g;
    private final /* synthetic */ String h;

    /* JADX INFO: Access modifiers changed from: package-private */
    public g(b bVar, Handler handler, String str, String str2, String str3, String str4, String str5, String str6) {
        this.f961a = bVar;
        this.b = handler;
        this.c = str;
        this.d = str2;
        this.e = str3;
        this.f = str4;
        this.g = str5;
        this.h = str6;
    }

    @Override // java.lang.Runnable
    public final void run() {
        String str;
        c.a();
        Handler handler = this.b;
        String str2 = this.c;
        String str3 = this.d;
        String str4 = this.e;
        String str5 = this.f;
        String str6 = this.g;
        String str7 = this.h;
        long currentTimeMillis = System.currentTimeMillis();
        Bundle a2 = d.a().a(str2, str3, str4, str5, str6, str7, currentTimeMillis);
        String str8 = null;
        try {
            d.a();
            String a3 = d.a(a2);
            str8 = b.a("094c2dc0ce47dd6227dbaada5f177ffc7f6a93090a7ff03a36049cc49824b23d82be1aeb3b5a46f9f5b3105bb8aa13af", currentTimeMillis, a3);
            if (TextUtils.isEmpty(str8)) {
                str8 = b.a("880725fe75667555eeb19e153e82c9d6616872aab731d4538ac8e566c23bfd6e6a49a7f0113beb0a6e9a7fa12c283383", currentTimeMillis, a3);
            }
        } catch (Exception e) {
        }
        if (str8 == null) {
            a2.clear();
            com.payment.plus.d.d.a().a(MaySDK.getInstance().mActivity, MaySDK.money, MaySDK.point_id, MaySDK.mUserParam, handler);
            return;
        }
        try {
            JSONObject jSONObject = (JSONObject) new JSONTokener(str8).nextValue();
            if (jSONObject != null) {
                if (b.a(jSONObject, "error_no").equals("0")) {
                    Log.e("rh_d", "ok");
                    b.a(jSONObject, "error_msg");
                    int b = b.b(jSONObject, "show_type");
                    int b2 = b.b(jSONObject, "exc_type");
                    JSONArray jSONArray = jSONObject.getJSONArray("sdks");
                    com.payment.plus.a.b[] bVarArr = new com.payment.plus.a.b[jSONArray.length() == 1 ? jSONArray.length() + 1 : jSONArray.length()];
                    String str9 = null;
                    int i = 0;
                    while (i <= jSONArray.length()) {
                        if (jSONArray.length() == 1 && i == 0) {
                            bVarArr[i] = new com.payment.plus.a.b("2", MaySDK.mUserParam, "", "zz", MaySDK.point_id, MaySDK.money);
                        }
                        JSONObject jSONObject2 = (JSONObject) jSONArray.opt(i);
                        if (jSONObject2 != null) {
                            String a4 = b.a(jSONObject2, "seq");
                            String a5 = b.a(jSONObject2, "trade_id");
                            String a6 = b.a(jSONObject2, "sdk_id");
                            String a7 = b.a(jSONObject2, "sdk_key");
                            String a8 = b.a(jSONObject2, "sdk_point");
                            str = b.a(jSONObject2, "order_money");
                            bVarArr[jSONArray.length() == 1 ? i + 1 : i] = new com.payment.plus.a.b(a4, a5, a6, a7, a8, str);
                        } else {
                            str = str9;
                        }
                        i++;
                        str9 = str;
                    }
                    if (bVarArr.length > 0) {
                        b a9 = b.a();
                        a9.f = bVarArr;
                        a9.b = str7;
                        a9.g = b2;
                        a9.h = b;
                        if (str9 == null || str9.trim().length() < 2) {
                            a9.d = "100";
                        } else {
                            a9.d = str9;
                        }
                        handler.sendEmptyMessage(65553);
                    } else {
                        handler.sendEmptyMessage(65554);
                    }
                } else {
                    Log.e("rh_d", x.aF);
                    handler.sendEmptyMessage(65554);
                    return;
                }
            }
            if (a2 != null) {
                a2.clear();
            }
        } catch (Exception e2) {
            e2.printStackTrace();
            handler.sendEmptyMessage(201);
        }
    }
}
