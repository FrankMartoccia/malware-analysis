package com.payment.plus.c;

import android.app.Activity;
import android.app.AlertDialog;
import android.os.Handler;
import android.os.Looper;
import com.payment.plus.d.a;
import com.payment.plus.d.d;
import com.yuanlang.pay.plugin.libs.z;
import java.util.ArrayList;
/* loaded from: classes.dex */
public final class b {
    private static b p;

    /* renamed from: a  reason: collision with root package name */
    Activity f952a;
    String b;
    Handler c;
    String d;
    com.payment.plus.a.b[] f;
    int g;
    int h;
    Thread k;
    int l;
    ArrayList o;
    boolean e = false;
    boolean i = false;
    Handler j = new c(this, Looper.getMainLooper());
    int m = 0;
    int n = 0;

    public static b a() {
        if (p == null) {
            p = new b();
        }
        return p;
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void a(int i) {
        try {
            if (((Integer) this.o.get(this.n)).intValue() == i || i == 0) {
                if (this.k != null) {
                    this.k = null;
                }
                if (i != 0) {
                    this.n++;
                }
                if (this.n < this.m) {
                    this.l = ((Integer) this.o.get(this.n)).intValue();
                    this.j.sendEmptyMessage(this.l);
                    this.k = new Thread(new j(this));
                    this.k.start();
                } else if (this.i) {
                    this.j.sendEmptyMessage(z.b);
                } else {
                    this.j.sendEmptyMessage(201);
                }
            }
        } catch (Exception e) {
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static /* synthetic */ void a(b bVar, int i) {
        if (bVar.e && bVar.n < bVar.m - 1 && bVar.g != 1) {
            bVar.i = true;
            bVar.a(i);
        } else if (bVar.j != null) {
            bVar.j.sendEmptyMessage(z.b);
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    public void c() {
        if (this.j == null) {
            return;
        }
        if (!this.i || this.n != this.m - 1) {
            this.j.sendEmptyMessage(201);
        } else {
            this.j.sendEmptyMessage(z.b);
        }
    }

    private void d() {
        try {
            if (this.j != null) {
                this.j.sendEmptyMessage(6);
            }
        } catch (Exception e) {
        }
    }

    public final void a(Activity activity, Handler handler, String str, String str2, String str3, String str4, String str5, String str6, boolean z) {
        if (z) {
            activity.runOnUiThread(new d(this, activity, handler, str, str2, str3, str4, str5, str6));
        } else {
            a(handler, str, str2, str3, str4, str5, str6);
        }
    }

    public final void a(Handler handler, Activity activity) {
        this.c = handler;
        this.f952a = activity;
        this.i = false;
        if (this.g == 2) {
            this.e = false;
        } else {
            this.e = true;
        }
        if (this.h == 1) {
            new AlertDialog.Builder(activity).setTitle("提示").setMessage("仅需支付" + (Integer.valueOf(this.d).intValue() / 100) + "元，点击确定按钮产生扣费，信息费由合作方代收。请确定是否购买？").setPositiveButton("确定", new h(this)).setNegativeButton("取消", new i(this)).setCancelable(false).show();
        } else {
            b();
        }
    }

    public final void a(Handler handler, String str, String str2, String str3, String str4, String str5, String str6) {
        new Thread(new g(this, handler, str, str2, str3, str4, str5, str6)).start();
    }

    public final void a(com.payment.plus.a.b bVar, String str, String str2, String str3) {
        if (bVar != null) {
            new Thread(new k(this, bVar, str2, str, str3)).start();
        }
    }

    public final void b() {
        if (this.g == 1 || this.g == 3) {
            this.o = new ArrayList();
            for (int i = 0; i < this.f.length; i++) {
                String c = this.f[i].c();
                if (c != null && c.trim().equals("zz")) {
                    this.o.add(1);
                } else if (c != null && c.trim().equals("sk")) {
                    this.o.add(2);
                } else if (c != null && c.trim().equals("pz")) {
                    this.o.add(3);
                } else if (c != null && c.trim().equals("hj")) {
                    this.o.add(5);
                }
            }
            if (this.o == null || this.o.size() <= 0) {
                c();
                return;
            }
            this.n = 0;
            this.m = this.o.size();
            d();
            a(0);
            return;
        }
        d();
        for (int i2 = 0; i2 < this.f.length; i2++) {
            String c2 = this.f[i2].c();
            if (c2 != null && c2.trim().equals("zz")) {
                d.a().a(this.f952a, this.f[i2], this.b, this.j);
            } else if (c2 != null && c2.trim().equals("sk")) {
                a.a().a(this.f952a, this.f[i2], this.b, this.j);
            } else if ((c2 == null || !c2.trim().equals("pz")) && c2 != null) {
                c2.trim().equals("hj");
            }
        }
    }
}
