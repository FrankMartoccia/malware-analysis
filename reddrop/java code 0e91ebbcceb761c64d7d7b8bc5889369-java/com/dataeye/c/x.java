package com.dataeye.c;

import android.os.Environment;
import android.text.TextUtils;
import android.util.Log;
import com.dataeye.DCEvent;
import java.io.File;
import java.io.FileWriter;
import java.io.PrintWriter;
import java.io.StringWriter;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.HashMap;
import java.util.Locale;
/* loaded from: classes.dex */
public class x {

    /* renamed from: a  reason: collision with root package name */
    public static boolean f823a = false;
    public static boolean b = false;
    private static boolean d = false;
    public static boolean c = true;

    private static String a(String str, Object... objArr) {
        if (objArr == null || objArr.length == 0) {
            return "";
        }
        StringBuilder sb = new StringBuilder();
        sb.append(objArr[0]);
        for (int i = 1; i < objArr.length; i++) {
            if (objArr[i] != null) {
                sb.append(str);
                sb.append(objArr[i].toString());
            }
        }
        return sb.toString();
    }

    public static void a() {
        boolean z = false;
        if (TextUtils.isEmpty(b())) {
            d = false;
        } else if (new File(String.valueOf(b()) + File.separator + "AbcDEfghijklmnopqrsTuvwxYz.tag").exists()) {
            d = true;
            f823a = f823a || d;
            if (b || d) {
                z = true;
            }
            b = z;
        } else {
            d = false;
        }
    }

    public static void a(String str) {
        if (d) {
            Log.e("DESelf_Tag", String.valueOf(str) + " ");
        }
        if (d) {
            b("DESelf_Tag", String.valueOf(str) + " ");
        }
    }

    public static void a(String str, String str2) {
        if (f823a) {
            Log.i(str, str2);
        }
        if (d) {
            b(str, str2);
        }
    }

    public static void a(String str, String str2, String str3, Object... objArr) {
        if (c) {
            HashMap hashMap = new HashMap();
            hashMap.put("clz", str);
            hashMap.put("method", str2);
            hashMap.put("failReason", str3);
            hashMap.put("args", a(",", objArr));
            DCEvent.onEvent("_DESelf_Debug", hashMap);
        }
    }

    public static void a(String str, String str2, Throwable th) {
        if (b) {
            Log.e("DCLOG", str2, th);
        }
        if (d) {
            b(str, str2, th);
        }
    }

    public static void a(String str, Throwable th) {
        if (d) {
            Log.e("DESelf_Tag", String.valueOf(str) + "\n", th);
        }
        if (d) {
            b("DESelf_Tag", String.valueOf(str) + "\n", th);
        }
    }

    private static String b() {
        File file = null;
        if (Environment.getExternalStorageState().equals("mounted")) {
            file = Environment.getExternalStorageDirectory();
        }
        return file != null ? file.toString() : "";
    }

    public static void b(String str) {
        a("DCLOG", str);
    }

    private static void b(String str, String str2) {
        b(str, str2, null);
    }

    private static void b(String str, String str2, Throwable th) {
        String b2;
        Throwable th2;
        FileWriter fileWriter;
        if (!TextUtils.isEmpty(b())) {
            String format = new SimpleDateFormat("yyyy-MM-dd-HH-mm:ss:ms", Locale.CHINA).format(new Date());
            StringBuffer stringBuffer = new StringBuffer();
            stringBuffer.append(format).append("    ").append(str).append("    ").append(str2).append("\n");
            if (th != null) {
                new StringBuffer();
                StringWriter stringWriter = new StringWriter();
                th.printStackTrace(new PrintWriter(stringWriter));
                stringBuffer.append("StackTrace:").append(stringWriter.getBuffer()).append("\n");
            }
            FileWriter fileWriter2 = null;
            try {
                fileWriter = new FileWriter(String.valueOf(b2) + File.separator + "AbcDEfghijklmnopqrsTuvwxYz.tag", true);
                try {
                    fileWriter.write(stringBuffer.toString());
                    fileWriter.close();
                    try {
                        fileWriter.close();
                    } catch (Exception e) {
                    }
                } catch (Exception e2) {
                    try {
                        fileWriter.close();
                    } catch (Exception e3) {
                    }
                } catch (Throwable th3) {
                    th2 = th3;
                    fileWriter2 = fileWriter;
                    try {
                        fileWriter2.close();
                    } catch (Exception e4) {
                    }
                    throw th2;
                }
            } catch (Exception e5) {
                fileWriter = null;
            } catch (Throwable th4) {
                th2 = th4;
            }
        }
    }

    public static void b(String str, Throwable th) {
        a("DCLOG", str, th);
    }

    public static void c(String str) {
        a("DCLOG", str, null);
    }
}
