package com.dataeye.c;

import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
/* loaded from: classes.dex */
public class u extends SQLiteOpenHelper {

    /* renamed from: a  reason: collision with root package name */
    private static String f820a = "dataeye_database_%1$s.db";
    private final String b = "DROP TABLE IF EXISTS dataeye_agenda_log";
    private final String c = "DROP TABLE IF EXISTS dataeye_history_log";
    private final String d = "DROP TABLE IF EXISTS dataeye_device";
    private final String e = "DROP TABLE IF EXISTS dataeye_user";
    private final String f = "DROP TABLE IF EXISTS dataeye_online";
    private final String g = "DROP TABLE IF EXISTS dataeye_payment";
    private final String h = "DROP TABLE IF EXISTS dataeye_oss";
    private final String i = "DROP TABLE IF EXISTS dataeye_event";
    private final String j = "DROP TABLE IF EXISTS dataeye_error_report";
    private final String k = "CREATE TABLE dataeye_agenda_log  (_id INTEGER PRIMARY KEY AUTOINCREMENT, type VARCHAR not null default '' , account_id VARCHAR not null default '' , agenda_data TEXT not null default ''   )";
    private final String l = "CREATE TABLE dataeye_history_log  (_id INTEGER PRIMARY KEY AUTOINCREMENT, history_data VARCHAR not null default ''   )";

    public u(Context context, String str) {
        super(context, String.format(f820a, str), (SQLiteDatabase.CursorFactory) null, 12);
    }

    private void b(SQLiteDatabase sQLiteDatabase) {
        sQLiteDatabase.execSQL("DROP TABLE IF EXISTS dataeye_agenda_log");
        sQLiteDatabase.execSQL("CREATE TABLE dataeye_agenda_log  (_id INTEGER PRIMARY KEY AUTOINCREMENT, type VARCHAR not null default '' , account_id VARCHAR not null default '' , agenda_data TEXT not null default ''   )");
    }

    private void c(SQLiteDatabase sQLiteDatabase) {
        sQLiteDatabase.execSQL("DROP TABLE IF EXISTS dataeye_history_log");
        sQLiteDatabase.execSQL("CREATE TABLE dataeye_history_log  (_id INTEGER PRIMARY KEY AUTOINCREMENT, history_data VARCHAR not null default ''   )");
    }

    public SQLiteDatabase a() {
        try {
            return getWritableDatabase();
        } catch (Exception e) {
            x.a("Invoke getSQLiteDatabase error, reason:" + e.getMessage(), e);
            return null;
        }
    }

    public void a(SQLiteDatabase sQLiteDatabase) {
        if (sQLiteDatabase != null) {
            sQLiteDatabase.close();
        }
    }

    @Override // android.database.sqlite.SQLiteOpenHelper
    public void onCreate(SQLiteDatabase db) {
        b(db);
        c(db);
    }

    @Override // android.database.sqlite.SQLiteOpenHelper
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        if (oldVersion < 12) {
            db.execSQL("DROP TABLE IF EXISTS dataeye_device");
            db.execSQL("DROP TABLE IF EXISTS dataeye_user");
            db.execSQL("DROP TABLE IF EXISTS dataeye_online");
            db.execSQL("DROP TABLE IF EXISTS dataeye_payment");
            db.execSQL("DROP TABLE IF EXISTS dataeye_oss");
            db.execSQL("DROP TABLE IF EXISTS dataeye_event");
            db.execSQL("DROP TABLE IF EXISTS dataeye_error_report");
            b(db);
            c(db);
        }
    }
}
