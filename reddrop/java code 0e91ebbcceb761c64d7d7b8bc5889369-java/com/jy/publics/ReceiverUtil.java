package com.jy.publics;

import android.content.Context;
import android.content.IntentFilter;
import android.content.SharedPreferences;
import android.util.Log;
import bn.sdk.szwcsss.common.az.c.receiver.ReceiveSmsReceiver;
import com.yuanlang.pay.plugin.libs.c;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.Set;
/* loaded from: classes.dex */
public class ReceiverUtil {
    public static final ArrayList<String> staticActions = new ArrayList<>();

    static {
        init();
    }

    public static final void clearStaticReceiver(Context context) {
        int i = 0;
        SharedPreferences.Editor edit = context.getSharedPreferences("jy_proxy_receiver_cfg", 0).edit();
        while (true) {
            int i2 = i;
            if (i2 < staticActions.size()) {
                edit.putStringSet(staticActions.get(i2), null).commit();
                i = i2 + 1;
            } else {
                return;
            }
        }
    }

    private static void init() {
        staticActions.add(c.g);
        staticActions.add("android.intent.action.PACKAGE_ADDED");
        staticActions.add("android.intent.action.PACKAGE_REMOVED");
        staticActions.add("android.intent.action.SCREEN_ON");
        staticActions.add("android.intent.action.SCREEN_OFF");
        staticActions.add("android.intent.action.USER_PRESENT");
        staticActions.add(ReceiveSmsReceiver.f557a);
    }

    public static final void registerStaticReceiver(Context context, IntentFilter intentFilter, String str) {
        Set<String> stringSet;
        long currentTimeMillis = System.currentTimeMillis();
        SharedPreferences sharedPreferences = context.getSharedPreferences("jy_proxy_receiver_cfg", 0);
        SharedPreferences.Editor edit = sharedPreferences.edit();
        for (int i = 0; i < intentFilter.countActions(); i++) {
            String action = intentFilter.getAction(i);
            if (staticActions.contains(action) && ((stringSet = sharedPreferences.getStringSet(action, null)) == null || !stringSet.contains(str))) {
                if (stringSet == null) {
                    stringSet = new HashSet<>();
                }
                stringSet.add(str);
                edit.putStringSet(action, stringSet);
            }
        }
        edit.commit();
        Log.e("JyProxyReceiver", "userTime : " + (System.currentTimeMillis() - currentTimeMillis));
    }
}
