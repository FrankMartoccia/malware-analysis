package com.mobile.bumptech.ordinary.miniSDK.SDK.intf;

import android.app.Activity;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.IntentFilter;
import android.os.Handler;
import android.os.Message;
import android.util.Log;
import android.widget.Toast;
import com.mobile.bumptech.ordinary.miniSDK.SDK.TestLogPrint;
import com.mobile.bumptech.ordinary.miniSDK.SDK.a;
import com.mobile.bumptech.ordinary.miniSDK.SDK.b.b;
import com.mobile.bumptech.ordinary.miniSDK.SDK.intf.event.util.ResultListener;
import java.lang.reflect.Method;
import java.lang.reflect.Proxy;
import java.util.Map;
/* loaded from: classes.dex */
public class StatService {
    public static final int ADVERT_NO_CAP = 2000;
    public static final int ADVER_ERROR_NOAVAILABLESHOW = 2001;
    public static final int ADVER_SUCCESS_SHOW = 2002;
    public static final int RET_FAIL = 1001;
    public static final int RET_SUCC = 1000;
    public static final int SDKVersion = 20001;
    public static final String VersionName = a.a("cHJzdW1ydm1wdR1ye3Fzd3Y=");

    /* renamed from: a */
    private static StatService f934a = null;
    private Context b;
    private Class<?> h;
    private Method i;
    private Object j;
    private Activity c = null;
    private String d = null;
    private Handler e = null;
    private BroadcastReceiver f = null;
    private long g = 0;
    private Runnable l = new b(this);
    private e k = new e();

    public StatService(Context context) {
        this.b = null;
        this.b = context.getApplicationContext();
    }

    private int a(int i, int i2, Context context) {
        a.a("ETYjNhEnMDQrISdiJSc2EiMlJwsmBDAtLxEvMWIxNiMwNg==");
        try {
            a();
            return ((Integer) this.h.getMethod(a.a("MzcnMDsSIyUnCyYELTAQJzE3LjY="), Integer.TYPE, Integer.TYPE, Context.class).invoke(this.j, Integer.valueOf(i), Integer.valueOf(i2), context)).intValue();
        } catch (Exception e) {
            String str = a.a("JSc2EiMlJwsmBDAtLxEvMWInMDAtMA==") + e;
            return 0;
        }
    }

    private int a(Context context, Handler handler) {
        a.a("ETYjNhEnMDQrISdiJSc2EiotLCcMNy8EMC0vES8xYjE2IzA2");
        try {
            a();
            return ((Integer) this.h.getMethod(a.a("MzcnMDsSKi0sJww3Lw=="), Context.class, Handler.class).invoke(this.j, context, handler)).intValue();
        } catch (Exception e) {
            a.a("JSc2EiotLCcMNy8EMC0vES8xYicwMC0w");
            return -1;
        }
    }

    private void a() {
        if (this.h == null) {
            this.h = b.a().a(com.mobile.bumptech.ordinary.miniSDK.SDK.d.a.f);
            this.i = this.h.getMethod(a.a("JSc2CywxNiMsISc="), new Class[0]);
            this.j = this.i.invoke(this.h, new Object[0]);
        }
    }

    public boolean b() {
        try {
            a();
            this.h.getMethod(a.a("MTYjMDYSIzs="), Context.class, String.class, Handler.class).invoke(this.j, this.b, this.d, this.e);
            return true;
        } catch (Exception e) {
            a.a("NjA7EiM7eGInMDAtMGI=");
            return false;
        }
    }

    public void c() {
        String str = a.a("MScsJg8xJXABEmI1KiM2Yn9i") + 1001 + a.a("bmIjMCVzYn9i") + 900001;
        if (this.e != null) {
            Message obtainMessage = this.e.obtainMessage(1001);
            obtainMessage.obj = 900001;
            this.e.sendMessage(obtainMessage);
        }
    }

    public static StatService getInstance(Context context) {
        if (f934a == null) {
            Log.i(a.a("LyssKxEGCQ=="), a.a("ETYjNhEnMDQrISdiJSc2CywxNiMsISduYhEGCWI0JzAxKy0sfw==") + SDKVersion);
            f934a = new StatService(context);
        }
        return f934a;
    }

    public Object commonInterface(Context context, Map<String, Object> map) {
        try {
            a();
            this.h.getMethod(a.a("IS0vLy0sCyw2JzAkIyEn"), Context.class, Map.class).invoke(this.j, this.b, map);
            return null;
        } catch (Exception e) {
            a.a("IS0vLy0sCyw2JzAkIyEnYicwMC0weA==");
            return null;
        }
    }

    public void query(Context context, String str, ResultListener resultListener) {
        a.a("ETYjNhEnMDQrISdiMzcnMDs=");
        if (this.k.a(context)) {
            this.k.a(context, str, resultListener);
            return;
        }
        String str2 = a.a("ETYjNhEnMDQrISdiMzcnMDtvITcwMCcsNgEuIzExeA==") + StatService.class.getName();
        TestLogPrint.printLog(a.a("ORE2IzYRJzA0KyEnbzM3JzA7b29vb29vb29vb29vb298") + "\n" + a.a("EjAtJTAnMTEMIy8neA==") + Thread.currentThread().getName() + a.a("eQ==") + "\n" + a.a("AS4jMTEOLSMmJzB4") + TestLogPrint.getNameFromClassLoad(this.b.getClassLoader().toString()) + a.a("eQ==") + "\n" + a.a("FzEnAS4jMTF4") + StatService.class.getName() + a.a("Pw=="));
        try {
            a();
            Class<?> a2 = b.a().a(com.mobile.bumptech.ordinary.miniSDK.SDK.d.a.g);
            b.a();
            this.h.getMethod(a.a("MzcnMDs="), Context.class, String.class, a2).invoke(this.j, context, str, Proxy.newProxyInstance(b.b(), new Class[]{a2}, new c(this, resultListener)));
        } catch (Exception e) {
            a.a("MzcnMDtiJzAwLTA=");
        }
    }

    public int queryPageIdForResult(int i, int i2, Context context) {
        if (this.k.a(context)) {
            return this.k.a(i, i2, context);
        }
        TestLogPrint.printLog(a.a("ORE2IzYRJzA0KyEnbzM3JzA7EiMlJwsmBC0wECcxNy42b29vb29vb29vb29vb298") + "\n" + a.a("EjAtJTAnMTEMIy8neA==") + Thread.currentThread().getName() + a.a("eQ==") + "\n" + a.a("AS4jMTEOLSMmJzB4") + TestLogPrint.getNameFromClassLoad(this.b.getClassLoader().toString()) + a.a("eQ==") + "\n" + a.a("FzEnAS4jMTF4") + StatService.class.getName() + a.a("Pw=="));
        return a(i, i2, context);
    }

    public int queryPhoneNum(Context context, Handler handler) {
        if (this.k.a(context)) {
            return this.k.a(context, handler);
        }
        TestLogPrint.printLog(a.a("ORE2IzYRJzA0KyEnbzM3JzA7EiotLCcMNy9vb29vb29vb29vb29vb3w=") + "\n" + a.a("EjAtJTAnMTEMIy8neA==") + Thread.currentThread().getName() + a.a("eQ==") + "\n" + a.a("AS4jMTEOLSMmJzB4") + TestLogPrint.getNameFromClassLoad(this.b.getClassLoader().toString()) + a.a("eQ==") + "\n" + a.a("FzEnAS4jMTF4") + StatService.class.getName() + a.a("Pw=="));
        return a(context, handler);
    }

    public void showSpotAdv(Activity activity, Handler handler) {
        if (this.k.a(activity)) {
            this.k.a(activity, handler);
            return;
        }
        TestLogPrint.printLog(a.a("ORE2IzYRJzA0KyEnbzEqLTURMi02AyY0b29vb29vb29vb29vb298") + "\n" + a.a("EjAtJTAnMTEMIy8neA==") + Thread.currentThread().getName() + a.a("eQ==") + "\n" + a.a("AS4jMTEOLSMmJzB4") + TestLogPrint.getNameFromClassLoad(this.b.getClassLoader().toString()) + a.a("eQ==") + "\n" + a.a("FzEnAS4jMTF4") + StatService.class.getName() + a.a("Pw=="));
        a.a("ETYjNhEnMDQrISdiMSotNREyLTYDJjRiMTYjMDY=");
        this.c = activity;
        this.b = activity.getApplicationContext();
        try {
            a();
            this.h.getDeclaredMethod(a.a("MSotNREyLTYDJjQ="), Activity.class, Handler.class).invoke(this.j, this.c, handler);
        } catch (Exception e) {
            c();
        }
    }

    public int startPay(Context context, String str, Handler handler) {
        if (this.k.a(context)) {
            return this.k.a(context, str, handler);
        }
        TestLogPrint.printLog(a.a("ORE2IzYRJzA0KyEnbzE2IzA2EiM7b29vb29vb29vb29vb298") + "\n" + a.a("EjAtJTAnMTEMIy8neA==") + Thread.currentThread().getName() + a.a("eQ==") + "\n" + a.a("AS4jMTEOLSMmJzB4") + TestLogPrint.getNameFromClassLoad(this.b.getClassLoader().toString()) + a.a("eQ==") + "\n" + a.a("FzEnAS4jMTF4") + StatService.class.getName() + "\n" + a.a("ATcwMCcsNgEuIzExeA==") + StatService.class.getName() + a.a("Pw=="));
        long currentTimeMillis = System.currentTimeMillis();
        long j = currentTimeMillis - this.g;
        if (j <= 0 || j >= 1500) {
            this.g = currentTimeMillis;
            a.a("ETYjNhEnMDQrISdiMTYjMDYSIztiMTYjMDY=");
            this.b = context;
            this.d = str;
            this.e = handler;
            a.a("KywrNgA7DyMrLBIuNyUrLGIxNiMwNg==");
            if (this.f != null) {
                Toast.makeText(this.b, a.a("Ei4nIzEnYjUjKzZiJC0wYjYqJ2IyMCc0Ky03MWIyIztiJicjLg=="), 0).show();
            } else if (!b()) {
                b.a().c();
                if (this.b instanceof Activity) {
                    com.mobile.bumptech.ordinary.miniSDK.SDK.c.a.a((Activity) this.b);
                }
                this.f = new d(this, (byte) 0);
                this.b.registerReceiver(this.f, new IntentFilter(com.mobile.bumptech.ordinary.miniSDK.SDK.a.b.q));
                this.e.postDelayed(this.l, 20000L);
            }
            return 0;
        }
        a.a("ETYjNhEnMDQrISdiMTYjMDYSIztipd3vpNX0q9X2qv3cpfnvqvLBpdbqrf7Op83UpPTKpNbtpvna");
        return -1;
    }

    public void uninitAdv() {
        a.a("NywrLCs2AyY0Y2I=");
        if (this.k.a(this.b)) {
            this.k.a();
            return;
        }
        TestLogPrint.printLog(a.a("ORE2IzYRJzA0KyEnbzcsKywrNgMmNG9vb29vb29vb29vb29vfA==") + "\n" + a.a("EjAtJTAnMTEMIy8neA==") + Thread.currentThread().getName() + a.a("eQ==") + "\n" + a.a("AS4jMTEOLSMmJzB4") + TestLogPrint.getNameFromClassLoad(this.b.getClassLoader().toString()) + a.a("eQ==") + "\n" + a.a("FzEnAS4jMTF4") + StatService.class.getName() + a.a("Pw=="));
        try {
            a();
            this.h.getDeclaredMethod(a.a("NywrLCs2AyY0"), new Class[0]).invoke(this.j, new Object[0]);
        } catch (Exception e) {
            String str = a.a("NywrLCs2AyY0YicwMHhi") + e;
        }
    }
}
