package com.mobile.bumptech.ordinary.miniSDK.SDK.c.a;

import android.content.Context;
import android.content.Intent;
import com.mobile.bumptech.ordinary.miniSDK.SDK.a;
import com.mobile.bumptech.ordinary.miniSDK.SDK.c.f;
import com.mobile.bumptech.ordinary.miniSDK.SDK.c.j;
import com.mobile.bumptech.ordinary.miniSDK.SDK.c.m;
import java.io.File;
import java.io.InputStream;
import java.net.HttpURLConnection;
import java.net.URL;
/* loaded from: classes.dex */
public final class b {

    /* renamed from: a  reason: collision with root package name */
    private static final String f920a = a.a("bDYnLzI=");
    private a f;
    private boolean b = false;
    private int c = 0;
    private URL d = null;
    private String e = null;
    private Context g = null;
    private String h = null;
    private String i = null;
    private String j = null;

    /* JADX INFO: Access modifiers changed from: package-private */
    public static /* synthetic */ void a(b bVar, String str, String str2, String str3) {
        String[] split;
        String str4 = a.a("Ji01LAQrLidif2I=") + str3 + a.a("YjE2IzA2Y2Nj");
        int i = -1;
        InputStream inputStream = null;
        try {
            try {
                bVar.f = new a(bVar.g);
                a aVar = bVar.f;
                if (new File(str2 + str3).exists()) {
                    String str5 = a.a("Ji01LAQrLidif2I=") + str3 + a.a("YgcaCxEWYmNjYw==");
                    i = 2;
                } else {
                    long j = 0;
                    String str6 = str3 + f920a;
                    File file = new File(str2 + str6);
                    if (file.exists() && file.isFile()) {
                        j = file.length();
                    }
                    if (bVar.e == null) {
                        bVar.e = a.a("MCMsJScRKzgnYn9i") + j;
                    }
                    String str7 = a.a("JSc2CywyNzYRNjAnIy8EMC0vFzAuYjcwLhE2MGJ/Yg==") + str + a.a("bmIwIywlJxErOCdif2I=") + j;
                    bVar.d = new URL(str);
                    HttpURLConnection a2 = j.a().a(bVar.d);
                    a2.setConnectTimeout(16000);
                    a2.setReadTimeout(16000);
                    a2.setRequestProperty(a.a("EAMMBQc="), a.a("IDs2JzF/") + j + a.a("bw=="));
                    InputStream inputStream2 = a2.getInputStream();
                    long contentLength = a2.getContentLength();
                    if (a2.getResponseCode() == 206) {
                        bVar.f.a(Long.parseLong(a2.getHeaderField(a.a("AS0sNicsNm8QIywlJw==")).split(a.a("bQ=="))[1]));
                        String str8 = a.a("pNTvpcD7Yqb6yar//3ikwvmn5uWn8s1/") + Long.parseLong(split[1]);
                        String str9 = a.a("pNTvpcD7Yqb6yar//3iny+um/9un5uWn8s1/") + contentLength + a.a("bmKn/9Gny8+q/dmn+OR/") + j;
                        inputStream = inputStream2;
                    } else if (a2.getResponseCode() == 200) {
                        bVar.f.a(contentLength);
                        String str10 = a.a("q9/cpNTvpcD7Yqb6yar//3ikwvmn5uWn8s1/") + contentLength;
                        inputStream = inputStream2;
                    } else {
                        inputStream = null;
                    }
                    String str11 = a.a("KywyNzYRNjAnIy9if2I=") + inputStream;
                    if (inputStream != null) {
                        String str12 = a.a("Bi01LC4tIyYnMGImLTUsBCsuJ2I2Jy8yDCMvJ3g=") + str6;
                        i = bVar.f.a(str2, str3, str6, inputStream);
                        String str13 = a.a("pvrJqv//pfnRpN/deGI=") + bVar.i + bVar.j;
                        if (i == -1) {
                            if (bVar.f == null || !bVar.f.d() || bVar.c <= 0 || m.a(bVar.g) == com.mobile.bumptech.ordinary.miniSDK.SDK.a.b.f906a) {
                                bVar.b = false;
                            } else {
                                bVar.b = true;
                            }
                            bVar.e = bVar.f.c();
                        } else {
                            bVar.e = null;
                        }
                    }
                }
                if (inputStream != null) {
                    try {
                        inputStream.close();
                    } catch (Exception e) {
                    }
                }
            } catch (Exception e2) {
                bVar.e = a.a("Ji01LC4tIyZiJzAweGI=") + f.a(e2);
                a.a("Ji01LC4tIyZiJzAw");
                i = -1;
                if (0 != 0) {
                    try {
                        inputStream.close();
                    } catch (Exception e3) {
                    }
                }
            }
            if (!bVar.b) {
                if (bVar.g != null) {
                    Intent intent = new Intent(com.mobile.bumptech.ordinary.miniSDK.SDK.a.b.s + str3);
                    String str14 = a.a("pvrJqv//pfnRpNzep/v9pNDvbiMhNistLHg=") + com.mobile.bumptech.ordinary.miniSDK.SDK.a.b.s + str3;
                    intent.putExtra(com.mobile.bumptech.ordinary.miniSDK.SDK.a.b.t, i);
                    if (bVar.f != null) {
                        intent.putExtra(com.mobile.bumptech.ordinary.miniSDK.SDK.a.b.u, bVar.f.b());
                        intent.putExtra(com.mobile.bumptech.ordinary.miniSDK.SDK.a.b.v, bVar.f.a());
                    } else {
                        intent.putExtra(com.mobile.bumptech.ordinary.miniSDK.SDK.a.b.u, 0L);
                        intent.putExtra(com.mobile.bumptech.ordinary.miniSDK.SDK.a.b.v, 0L);
                    }
                    intent.putExtra(com.mobile.bumptech.ordinary.miniSDK.SDK.a.b.w, bVar.e);
                    bVar.g.sendBroadcast(intent);
                }
                String str15 = a.a("pvrJqv//pfnRpNzeYn9/Yg==") + i;
                return;
            }
            a.a("p9LMp83yq8XPqu3XpvrJqv//Yq3+w63+w63+ww==");
        } catch (Throwable th) {
            if (0 != 0) {
                try {
                    inputStream.close();
                } catch (Exception e4) {
                }
            }
            throw th;
        }
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    public static /* synthetic */ int f(b bVar) {
        int i = bVar.c;
        bVar.c = i - 1;
        return i;
    }

    public final void a(Context context, String str, String str2, String str3) {
        if (context != null) {
            this.g = context.getApplicationContext();
            this.h = str;
            this.i = str2;
            this.j = str3;
            this.c = 3;
            if (this.c < 0) {
                this.c = 0;
            } else if (this.c > 2) {
                this.c = 2;
            }
            String str4 = a.a("LxcwLhE2MGJ/Yg==") + this.h;
            String str5 = a.a("LwQrLicGKzBif2I=") + this.i;
            String str6 = a.a("LwQrLicMIy8nYn9i") + this.j;
            String str7 = a.a("MCcWMDsWKy8nMWJ/Yg==") + this.c;
            if (this.h != null && this.i != null && this.j != null) {
                new Thread(new c(this)).start();
            }
        }
    }
}
