package com.mobile.bumptech.ordinary.miniSDK.SDK.c;

import android.content.Context;
import android.os.Build;
import android.os.Environment;
import android.os.StatFs;
import android.text.TextUtils;
import com.mobile.bumptech.ordinary.miniSDK.SDK.a;
import java.io.File;
import java.util.List;
/* loaded from: classes.dex */
public final class o {

    /* renamed from: a  reason: collision with root package name */
    public static Context f928a;
    private static String b = null;
    private static int c = -1;
    private static int d = 0;
    private static int e = 1;
    private static int f = c;
    private static String g;

    public static long a() {
        if (!Environment.getExternalStorageState().equals("mounted")) {
            return 0L;
        }
        StatFs statFs = new StatFs(Environment.getExternalStorageDirectory().getPath());
        return (Build.VERSION.SDK_INT >= 18 ? statFs.getBlockSizeLong() : statFs.getBlockSize()) * (Build.VERSION.SDK_INT >= 18 ? statFs.getAvailableBlocksLong() : statFs.getAvailableBlocks());
    }

    public static void a(Context context) {
        f928a = context;
    }

    private static boolean a(String str) {
        int i;
        q qVar = new q(str);
        qVar.setDaemon(true);
        qVar.start();
        int i2 = 0;
        while (true) {
            if (qVar.a()) {
                i = i2;
                break;
            }
            i = i2 + 1;
            if (i2 >= 20) {
                break;
            }
            try {
                Thread.sleep(50L);
                i2 = i;
            } catch (InterruptedException e2) {
                e2.printStackTrace();
                i2 = i;
            }
        }
        if (i >= 20) {
            qVar.interrupt();
        }
        return qVar.b();
    }

    public static final String b() {
        if (f928a != null && TextUtils.isEmpty(g)) {
            File filesDir = f928a.getFilesDir();
            g = filesDir.getAbsolutePath();
            if (!filesDir.exists()) {
                filesDir.mkdirs();
            }
            a(a.a("ISovLSZidXJ3Yg==") + g);
        }
        return g;
    }

    public static long c() {
        String b2 = b();
        if (s.a(b2)) {
            return 0L;
        }
        StatFs statFs = new StatFs(b2);
        return (Build.VERSION.SDK_INT >= 18 ? statFs.getBlockSizeLong() : statFs.getBlockSize()) * (Build.VERSION.SDK_INT >= 18 ? statFs.getAvailableBlocksLong() : statFs.getAvailableBlocks());
    }

    public static final String d() {
        return Environment.getExternalStorageDirectory() + File.separator;
    }

    public static long e() {
        if (!Environment.getExternalStorageState().equals("mounted")) {
            return 0L;
        }
        String a2 = a.a("bS8sNm0xJiEjMCZwbQ==");
        if (!new File(a2).exists()) {
            return 0L;
        }
        StatFs statFs = new StatFs(a2);
        return (Build.VERSION.SDK_INT >= 18 ? statFs.getBlockSizeLong() : statFs.getBlockSize()) * (Build.VERSION.SDK_INT >= 18 ? statFs.getAvailableBlocksLong() : statFs.getAvailableBlocks());
    }

    public static final String f() {
        return a.a("bS8sNm0xJiEjMCZwbQ==");
    }

    public static long g() {
        String a2 = a.a("bS8sNm0nLy8hbQ==");
        if (!new File(a2).exists()) {
            return 0L;
        }
        StatFs statFs = new StatFs(a2);
        return (Build.VERSION.SDK_INT >= 18 ? statFs.getBlockSizeLong() : statFs.getBlockSize()) * (Build.VERSION.SDK_INT >= 18 ? statFs.getAvailableBlocksLong() : statFs.getAvailableBlocks());
    }

    public static final String h() {
        return a.a("bS8sNm0nLy8hbQ==");
    }

    public static long i() {
        if (!Environment.getExternalStorageState().equals("mounted") || f == d) {
            return 0L;
        }
        if (b == null) {
            j();
        }
        if (b == null) {
            return 0L;
        }
        StatFs statFs = new StatFs(b);
        return (Build.VERSION.SDK_INT >= 18 ? statFs.getBlockSizeLong() : statFs.getBlockSize()) * (Build.VERSION.SDK_INT >= 18 ? statFs.getAvailableBlocksLong() : statFs.getAvailableBlocks());
    }

    public static String j() {
        long j;
        String str;
        String str2 = null;
        if (f == d) {
            return null;
        }
        if (f == c) {
            p pVar = new p();
            if ((pVar.f929a == null ? 0 : pVar.f929a.size()) <= 0) {
                f = d;
                return null;
            }
            List<r> list = pVar.f929a;
            long j2 = 104857600;
            int i = 0;
            while (i < list.size()) {
                r rVar = list.get(i);
                if (rVar.a() > j2) {
                    j = rVar.a();
                    str = rVar.b();
                } else {
                    j = j2;
                    str = str2;
                }
                i++;
                str2 = str;
                j2 = j;
            }
            b = str2;
            if (str2 != null) {
                f = e;
            } else {
                f = d;
            }
            if (!TextUtils.isEmpty(b) && !b.endsWith(a.a("bQ=="))) {
                b += a.a("bQ==");
            }
        }
        return b;
    }
}
