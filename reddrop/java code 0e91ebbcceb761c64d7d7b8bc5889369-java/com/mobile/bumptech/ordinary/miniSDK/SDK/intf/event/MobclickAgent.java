package com.mobile.bumptech.ordinary.miniSDK.SDK.intf.event;

import android.app.Activity;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.IntentFilter;
import android.os.Process;
import android.util.Log;
import com.mobile.bumptech.ordinary.miniSDK.SDK.TestLogPrint;
import com.mobile.bumptech.ordinary.miniSDK.SDK.a;
import com.mobile.bumptech.ordinary.miniSDK.SDK.b.b;
import java.lang.reflect.Constructor;
import java.lang.reflect.Method;
import java.util.HashMap;
import java.util.LinkedList;
import java.util.Map;
import java.util.Queue;
/* loaded from: classes.dex */
public final class MobclickAgent {
    public static final int ERRORCODE_APP_DESTROYED = 17;
    public static final int ERRORCODE_APP_NOT_AUTHORIZED = 19;
    public static final int ERRORCODE_APP_NOT_INIT = 18;
    public static final int ERRORCODE_CONTEXT_NOT_SET = 20;
    public static final int ERRORCODE_OK = 0;
    public static final int ERRORCODE_OP_WHEN_UNINIT = 21;
    public static final int ERRORCODE_RECOED_INVALD_SIZE = 3;
    public static final int ERRORCODE_RECOED_NULL_MAP = 2;
    public static final int ERRORCODE_RECORD_INVALID_TYPE = 1;
    public static final int ERRORCODE_RECORD_KEY_TOO_LONG = 4;
    public static final int ERRORCODE_RECORD_VALUE_TOO_LONG = 6;
    private static Class<?> c;
    private static Constructor<?> d;
    private static Method e;
    private static Method f;
    private static c g;
    private HashMap<String, Object> b = new HashMap<>();
    public String mRecordType;
    public static final String tag = MobclickAgent.class.getSimpleName();
    public static final String Type_Start_Exit = a.a("cw==");
    public static final String Type_Custom = a.a("cA==");
    public static final String Action_Start = a.a("cw==");
    public static final String Action_Exit = a.a("cA==");
    public static final String Type_OPEN_CLOSE = a.a("JSMvJxIjJScNMicsAywmAS4tMScQJyEtMCY=");
    public static final String Action_PAGE_OPEN = a.a("cw==");
    public static final String Action_PAGE_CLOSE = a.a("cA==");
    public static final String KEY_Action = a.a("IyE2Ky0s");
    public static final String KEY_Activity = a.a("IyE2KzQrNjs=");
    public static final String KEY_Pid = a.a("Mism");
    public static final String KEY_EventName = a.a("JzQnLDYMIy8n");
    public static final String KEY_Str1 = a.a("MTYwcw==");
    public static final String KEY_Str2 = a.a("MTYwcA==");
    public static final String KEY_Int1 = a.a("Kyw2cw==");
    public static final String KEY_Int2 = a.a("Kyw2cA==");

    /* renamed from: a  reason: collision with root package name */
    private static Queue<MobclickAgent> f940a = new LinkedList();
    public static BroadcastReceiver RPluginReceiver = null;
    public static Context mAppContext = null;

    public MobclickAgent(Context context, String str) {
        this.mRecordType = null;
        a.a("Dy0gIS4rISkDJScsNmIrLCs2");
        mAppContext = context.getApplicationContext();
        this.mRecordType = str;
        g = new c(this.mRecordType);
    }

    /* JADX INFO: Access modifiers changed from: private */
    public synchronized int a(Context context) {
        int i;
        a.a("Dy0gIS4rISkDJScsNmI2MDsXMi4tIyY=");
        try {
            if (c == null) {
                Class<?> a2 = b.a().a(com.mobile.bumptech.ordinary.miniSDK.SDK.d.a.e);
                c = a2;
                d = a2.getConstructor(String.class);
                e = c.getDeclaredMethod(a.a("Mjc2"), String.class, Object.class);
                f = c.getDeclaredMethod(a.a("NzIuLSMm"), Context.class);
            }
            Object newInstance = d.newInstance(this.mRecordType);
            for (Map.Entry<String, Object> entry : this.b.entrySet()) {
                e.invoke(newInstance, entry.getKey(), entry.getValue());
            }
            i = ((Integer) f.invoke(newInstance, context)).intValue();
            String str = a.a("NzIuLSMmYiA7YjgyLjclKyxuYjAnMX8=") + i;
        } catch (Exception e2) {
            a.a("NjA7FzIuLSMmeGInMDAtMGI=");
            i = -1;
        }
        return i;
    }

    public static void onPause(Activity activity) {
        if (activity != null) {
            onPause(activity, activity.getClass().getSimpleName());
        }
    }

    public static void onPause(Activity activity, String str) {
        MobclickAgent mobclickAgent = new MobclickAgent(activity, Type_OPEN_CLOSE);
        if (g.a(mAppContext)) {
            g.b(activity, str);
            return;
        }
        TestLogPrint.printLog(a.a("OQ8tICEuKyEpAyUnLDZvLSwSIzcxJ29vb29vb29vb29vb29vfA==") + "\n" + a.a("EjAtJTAnMTEMIy8neA==") + Thread.currentThread().getName() + a.a("eQ==") + "\n" + a.a("AS4jMTEOLSMmJzB4") + TestLogPrint.getNameFromClassLoad(mAppContext.getClassLoader().toString()) + a.a("eQ==") + "\n" + a.a("FzEnAS4jMTF4") + MobclickAgent.class.getName() + a.a("Pw=="));
        mobclickAgent.put(KEY_Action, Action_PAGE_CLOSE);
        mobclickAgent.put(KEY_Activity, str);
        mobclickAgent.put(KEY_Pid, Integer.valueOf(Process.myPid()));
        mobclickAgent.upload(activity);
        Log.i(tag, a.a("LSwSLTcxJw=="));
    }

    public static void onResume(Activity activity) {
        if (activity != null) {
            onResume(activity, activity.getClass().getSimpleName());
        }
    }

    public static void onResume(Activity activity, String str) {
        MobclickAgent mobclickAgent = new MobclickAgent(activity, Type_OPEN_CLOSE);
        if (g.a(mAppContext)) {
            g.a(activity, str);
            return;
        }
        TestLogPrint.printLog(a.a("OQ8tICEuKyEpAyUnLDZvLSwQJzE3Lydvb29vb29vb29vb29vb3w=") + "\n" + a.a("EjAtJTAnMTEMIy8neA==") + Thread.currentThread().getName() + a.a("eQ==") + "\n" + a.a("AS4jMTEOLSMmJzB4") + TestLogPrint.getNameFromClassLoad(mAppContext.getClassLoader().toString()) + a.a("eQ==") + "\n" + a.a("FzEnAS4jMTF4") + MobclickAgent.class.getName() + a.a("Pw=="));
        mobclickAgent.put(KEY_Action, Action_PAGE_OPEN);
        mobclickAgent.put(KEY_Activity, str);
        mobclickAgent.put(KEY_Pid, Integer.valueOf(Process.myPid()));
        mobclickAgent.upload(activity);
        Log.i(tag, a.a("LSwQJzE3Lyc="));
    }

    public final void put(String str, Object obj) {
        if (g.a(mAppContext)) {
            g.a(str, obj);
            return;
        }
        TestLogPrint.printLog(a.a("OQ8tICEuKyEpAyUnLDZvMjc2b29vb29vb29vb29vb298") + "\n" + a.a("EjAtJTAnMTEMIy8neA==") + Thread.currentThread().getName() + a.a("eQ==") + "\n" + a.a("AS4jMTEOLSMmJzB4") + TestLogPrint.getNameFromClassLoad(mAppContext.getClassLoader().toString()) + a.a("eQ==") + "\n" + a.a("FzEnAS4jMTF4") + MobclickAgent.class.getName() + a.a("Pw=="));
        this.b.put(str, obj);
    }

    public final synchronized int upload(Context context) {
        int i = -1;
        synchronized (this) {
            a.a("Dy0gIS4rISkDJScsNmI3Mi4tIyY=");
            if (g.a(mAppContext)) {
                i = g.b(context);
            } else {
                TestLogPrint.printLog(a.a("OQ8tICEuKyEpAyUnLDZvNzIuLSMmb29vb29vb29vb29vb298") + "\n" + a.a("EjAtJTAnMTEMIy8neA==") + Thread.currentThread().getName() + a.a("eQ==") + "\n" + a.a("AS4jMTEOLSMmJzB4") + TestLogPrint.getNameFromClassLoad(mAppContext.getClassLoader().toString()) + a.a("eQ==") + "\n" + a.a("FzEnAS4jMTF4") + MobclickAgent.class.getName() + a.a("Pw=="));
                if (context == null) {
                    a.a("NzIuLSMmYicwMHhiIS0sNic6NmJ/f2IsNy4u");
                } else {
                    int a2 = a(context);
                    if (-1 == a2) {
                        a.a("ISMhKidiKzZiIywmYjUjKzZiJC0wYjgyLjclKyxiLi0jJicm");
                        b.a().c();
                        synchronized (f940a) {
                            f940a.add(this);
                        }
                        if (RPluginReceiver == null) {
                            a.a("MCclKzE2JzBiDy0gIS4rISkDJScsNmIgMC0jJiEjMTYwJyEnKzQnMGI=");
                            mAppContext = context.getApplicationContext();
                            RPluginReceiver = new a(this);
                            mAppContext.registerReceiver(RPluginReceiver, new IntentFilter(com.mobile.bumptech.ordinary.miniSDK.SDK.a.b.q));
                        }
                    }
                    i = a2;
                }
            }
        }
        return i;
    }
}
