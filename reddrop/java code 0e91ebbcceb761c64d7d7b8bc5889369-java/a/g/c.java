package a.g;

import android.os.Handler;
import android.os.Message;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;
import java.util.Map;
/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: classes.dex */
public final class c implements Runnable {

    /* renamed from: a  reason: collision with root package name */
    final /* synthetic */ String f522a;
    final /* synthetic */ int b;
    final /* synthetic */ Map c;
    final /* synthetic */ Handler d;
    final /* synthetic */ a e;

    /* JADX INFO: Access modifiers changed from: package-private */
    public c(a aVar, String str, int i, Map map, Handler handler) {
        this.e = aVar;
        this.f522a = str;
        this.b = i;
        this.c = map;
        this.d = handler;
    }

    @Override // java.lang.Runnable
    public final void run() {
        String unused;
        int i = 20;
        String str = "";
        StringBuffer stringBuffer = new StringBuffer();
        Message message = new Message();
        try {
            HttpURLConnection httpURLConnection = (HttpURLConnection) new URL(this.f522a.trim()).openConnection();
            httpURLConnection.setRequestMethod("GET");
            httpURLConnection.setConnectTimeout((this.b < 20 ? 20 : this.b) * 1000);
            if (this.b >= 20) {
                i = this.b;
            }
            httpURLConnection.setReadTimeout(i * 1000);
            if (this.c != null) {
                for (Map.Entry entry : this.c.entrySet()) {
                    httpURLConnection.setRequestProperty((String) entry.getKey(), (String) entry.getValue());
                }
            }
            httpURLConnection.connect();
            int responseCode = httpURLConnection.getResponseCode();
            if (responseCode == 200) {
                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(httpURLConnection.getInputStream(), "UTF-8"));
                while (true) {
                    String readLine = bufferedReader.readLine();
                    if (readLine == null) {
                        break;
                    }
                    stringBuffer.append(readLine);
                }
                bufferedReader.close();
                str = stringBuffer.toString();
            }
            unused = this.e.b;
            new StringBuilder().append(responseCode).append(this.f522a).append(str);
            message.what = responseCode;
            message.obj = str;
            this.d.sendMessage(message);
        } catch (IOException e) {
            message.what = 999;
            message.obj = e.toString();
            this.d.sendMessage(message);
            e.printStackTrace();
        }
    }
}
