package a.g;

import android.os.Handler;
import android.os.Message;
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;
import java.util.Map;
/* JADX INFO: Access modifiers changed from: package-private */
/* loaded from: classes.dex */
public final class e implements Runnable {

    /* renamed from: a  reason: collision with root package name */
    final /* synthetic */ String f524a;
    final /* synthetic */ int b;
    final /* synthetic */ Map c;
    final /* synthetic */ String d;
    final /* synthetic */ Handler e;
    final /* synthetic */ a f;

    /* JADX INFO: Access modifiers changed from: package-private */
    public e(a aVar, String str, int i, Map map, String str2, Handler handler) {
        this.f = aVar;
        this.f524a = str;
        this.b = i;
        this.c = map;
        this.d = str2;
        this.e = handler;
    }

    @Override // java.lang.Runnable
    public final void run() {
        String unused;
        int i = 20;
        String str = "";
        StringBuffer stringBuffer = new StringBuffer();
        Message message = new Message();
        try {
            HttpURLConnection httpURLConnection = (HttpURLConnection) new URL(this.f524a.trim()).openConnection();
            httpURLConnection.setRequestMethod("POST");
            httpURLConnection.setConnectTimeout((this.b < 20 ? 20 : this.b) * 1000);
            if (this.b >= 20) {
                i = this.b;
            }
            httpURLConnection.setReadTimeout(i * 1000);
            if (this.c != null) {
                for (Map.Entry entry : this.c.entrySet()) {
                    httpURLConnection.setRequestProperty((String) entry.getKey(), (String) entry.getValue());
                }
            }
            httpURLConnection.setDoOutput(true);
            httpURLConnection.getOutputStream().write(this.d.getBytes());
            int responseCode = httpURLConnection.getResponseCode();
            if (responseCode == 200) {
                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(httpURLConnection.getInputStream(), "UTF-8"));
                while (true) {
                    String readLine = bufferedReader.readLine();
                    if (readLine == null) {
                        break;
                    }
                    stringBuffer.append(readLine);
                }
                bufferedReader.close();
                str = stringBuffer.toString();
            }
            unused = this.f.b;
            new StringBuilder().append(responseCode).append(this.f524a).append(str);
            message.what = responseCode;
            message.obj = str;
            this.e.sendMessage(message);
        } catch (Exception e) {
            message.what = 999;
            message.obj = e.toString();
            this.e.sendMessage(message);
            e.printStackTrace();
        }
    }
}
