package a.b;

import a.e.i;
import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;
import java.util.ArrayList;
import java.util.HashMap;
/* loaded from: classes.dex */
public class a {
    private static a b;

    /* renamed from: a  reason: collision with root package name */
    private final String f487a = a.class.getSimpleName();
    private b c;
    private SQLiteDatabase d;

    private a() {
    }

    public static a a() {
        if (b == null) {
            b = new a();
        }
        return b;
    }

    public final int a(String str) {
        if (this.c == null || this.d == null) {
            return 0;
        }
        try {
            this.d.execSQL(str);
            return 1;
        } catch (SQLException e) {
            i.a(21, "", e.getMessage(), "");
            return 0;
        }
    }

    public final void a(Context context, String str) {
        this.c = new b(context, str);
        this.d = this.c.getWritableDatabase();
    }

    public final String b(String str) {
        if (this.c == null || this.d == null) {
            return "";
        }
        ArrayList arrayList = new ArrayList();
        try {
            Cursor rawQuery = this.d.rawQuery(str, null);
            int columnCount = rawQuery.getColumnCount();
            while (rawQuery.moveToNext()) {
                HashMap hashMap = new HashMap();
                for (int i = 0; i < columnCount; i++) {
                    hashMap.put(rawQuery.getColumnName(i), rawQuery.getString(i));
                }
                arrayList.add(hashMap);
            }
            rawQuery.close();
        } catch (Exception e) {
            i.a(21, "", e.getMessage(), "");
        }
        return a.e.a.a(arrayList);
    }
}
